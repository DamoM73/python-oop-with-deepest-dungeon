<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Stage 7 - Victory Conditions" href="stage_7.html" /><link rel="prev" title="Stage 5 - Item Creation" href="stage_5.html" />

    <link rel="shortcut icon" href="_static/logo.ico"/><!-- Generated with Sphinx 5.3.0 and Furo 2022.12.07 -->
        <title>Stage 6 - Use Items - Deepest Dungeon - Python OOP</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=91d0f0d1c444bdcb17a68e833c7a53903343c195" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --font-stack: gill sans, sans-serif;
  --font-stack--monospace: monaco, monospace;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">Deepest Dungeon - Python OOP</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="_static/oop_logo.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">Deepest Dungeon - Python OOP</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction for teachers</a></li>
<li class="toctree-l1"><a class="reference internal" href="oop_introduction.html">OOP Primer</a></li>
<li class="toctree-l1"><a class="reference internal" href="stage_1.html">Stage 1 - Create Rooms</a></li>
<li class="toctree-l1"><a class="reference internal" href="stage_2.html">Stage 2 - Movement</a></li>
<li class="toctree-l1"><a class="reference internal" href="stage_3.html">Stage 3 - Character Creation</a></li>
<li class="toctree-l1"><a class="reference internal" href="stage_4.html">Stage 4 - Character Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="stage_5.html">Stage 5 - Item Creation</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Stage 6 - Use Items</a></li>
<li class="toctree-l1"><a class="reference internal" href="stage_7.html">Stage 7 - Victory Conditions</a></li>
<li class="toctree-l1"><a class="reference internal" href="stage_8.html">Stage 8 - Useability</a></li>
<li class="toctree-l1"><a class="reference internal" href="extention.html">Extensions Ideas</a></li>
<li class="toctree-l1"><a class="reference internal" href="debugging.html">Debugging with Thonny</a></li>
<li class="toctree-l1"><a class="reference internal" href="licencing.html">Licencing</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="stage-6-use-items">
<h1>Stage 6 - Use Items<a class="headerlink" href="#stage-6-use-items" title="Permalink to this heading">#</a></h1>
<aside class="topic">
<p class="topic-title">In this lesson you will:</p>
<ul class="simple">
<li><p>Take an items</p></li>
<li><p>Create a backpack to place items</p></li>
<li><p>Limit weapons to items in dungeon</p></li>
</ul>
</aside>
<iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/JsUGdNxLlLM" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading">#</a></h2>
<p>Our game is progressing nicely. They player can move between multiple rooms, interact with different types of characters. We also have different items in these room.</p>
<p>The next step is to allow the player to collect the items and use them.</p>
<p>To achieve this we will:</p>
<ul class="simple">
<li><p>create a backpack variable that can store items</p></li>
<li><p>add a take command that collects the items</p></li>
<li><p>add a backpack command to list the items in the backpack</p></li>
<li><p>restrict the fight weapon to items in the backpack</p></li>
</ul>
<section id="class-diagram">
<h3>Class Diagram<a class="headerlink" href="#class-diagram" title="Permalink to this heading">#</a></h3>
<p>If we look at the class diagram, we notice that there are no changes. All of the changes in this section will be made in the <strong>main.py</strong> file, and will not involve adjusting any classes.</p>
<p><img alt="lesson 6 class diagram" src="_images/lesson_5_class_diagram.png" /></p>
</section>
</section>
<section id="creating-a-backpack">
<h2>Creating a backpack<a class="headerlink" href="#creating-a-backpack" title="Permalink to this heading">#</a></h2>
<p>The first thing we need to create is a backpack variable, so we can store the items we collect. To achieve this, we need a variable type that can hold multiple values. In Python these are called <strong>collections</strong>. We will be using <strong>lists</strong>, a type of <strong>collection</strong> that you will be familiar with.</p>
<div class="admonition-collections-in-python admonition">
<p class="admonition-title">Collections in Python</p>
<p>In Python, a collection is a way to group things together. There are different types of collections like lists, sets, and dictionaries. You can use them to store a bunch of values or items, like a shopping list or a list of names. Each type of collection has different rules and ways to use it. By choosing the right type of collection for what you need, it can help you write better code that works faster and is easier to read.</p>
<p>Python has following collections built it:</p>
<ul class="simple">
<li><p><strong>Lists:</strong> ordered collections of values, which can be of any data type. They are created using square brackets [] and values are separated by commas.</p></li>
<li><p><strong>Tuples:</strong> similar to lists, but they are immutable, which means that their values cannot be changed after they are created. They are created using parentheses () and values are separated by commas.</p></li>
<li><p><strong>Sets:</strong> unordered collections of unique values. They are created using curly braces {} or the set() constructor.</p></li>
<li><p><strong>Dictionaries:</strong> unordered collections of key-value pairs. They are created using curly braces {} and key-value pairs are separated by commas, with a colon : between the key and value.</p></li>
</ul>
<p>It also has modules to support other collections:</p>
<ul class="simple">
<li><p><strong>Arrays:</strong> used to store a sequence of values of the same data type. They are created using the array module.</p></li>
<li><p><strong>Queues:</strong> data structures that use a first-in, first-out (FIFO) method to store and retrieve data. They are implemented using the queue module.</p></li>
<li><p><strong>Stacks:</strong> Stacks are data structures that use a last-in, first-out (LIFO) method to store and retrieve data. They are implemented using the stack module.</p></li>
</ul>
</div>
<p>Lists are the perfect collection for our purposed. It can start as empty and we can then use the <code class="docutils literal notranslate"><span class="pre">append()</span></code> method to add items as they are picked up by the user. We can also check if out backpack contains an item using the <code class="docutils literal notranslate"><span class="pre">in</span></code> operator. We can access the time using list indexation, as well as using <code class="docutils literal notranslate"><span class="pre">pop</span></code> to remove the item from the backpack. So let’s create it.</p>
<p>Open <strong>main.py</strong> and add the highlighted code below:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1"># main.py</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="kn">from</span> <span class="nn">room</span> <span class="kn">import</span> <span class="n">Room</span>
<span class="linenos"> 4</span><span class="kn">from</span> <span class="nn">character</span> <span class="kn">import</span> <span class="n">Enemy</span><span class="p">,</span> <span class="n">Friend</span>
<span class="linenos"> 5</span><span class="kn">from</span> <span class="nn">item</span> <span class="kn">import</span> <span class="n">Item</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span><span class="c1"># create rooms</span>
<span class="linenos"> 8</span><span class="n">cavern</span> <span class="o">=</span> <span class="n">Room</span><span class="p">(</span><span class="s2">&quot;Cavern&quot;</span><span class="p">)</span>
<span class="linenos"> 9</span><span class="n">cavern</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;A room so big that the light of your torch doesn’t reach the walls.&quot;</span><span class="p">)</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="n">armoury</span> <span class="o">=</span> <span class="n">Room</span><span class="p">(</span><span class="s2">&quot;Armoury&quot;</span><span class="p">)</span>
<span class="linenos">12</span><span class="n">armoury</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;The walls are lined with racks that once held weapons and armour.&quot;</span><span class="p">)</span>
<span class="linenos">13</span>
<span class="linenos">14</span><span class="n">lab</span> <span class="o">=</span> <span class="n">Room</span><span class="p">(</span><span class="s2">&quot;Laboratory&quot;</span><span class="p">)</span>
<span class="linenos">15</span><span class="n">lab</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;A strange odour hangs in a room filled with unknownable contraptions.&quot;</span><span class="p">)</span>
<span class="linenos">16</span>
<span class="linenos">17</span><span class="c1"># link rooms</span>
<span class="linenos">18</span><span class="n">cavern</span><span class="o">.</span><span class="n">link_rooms</span><span class="p">(</span><span class="n">armoury</span><span class="p">,</span><span class="s2">&quot;south&quot;</span><span class="p">)</span>
<span class="linenos">19</span><span class="n">armoury</span><span class="o">.</span><span class="n">link_rooms</span><span class="p">(</span><span class="n">cavern</span><span class="p">,</span><span class="s2">&quot;north&quot;</span><span class="p">)</span>
<span class="linenos">20</span><span class="n">armoury</span><span class="o">.</span><span class="n">link_rooms</span><span class="p">(</span><span class="n">lab</span><span class="p">,</span><span class="s2">&quot;east&quot;</span><span class="p">)</span>
<span class="linenos">21</span><span class="n">lab</span><span class="o">.</span><span class="n">link_rooms</span><span class="p">(</span><span class="n">armoury</span><span class="p">,</span><span class="s2">&quot;west&quot;</span><span class="p">)</span>
<span class="linenos">22</span>
<span class="linenos">23</span><span class="c1"># create characters</span>
<span class="linenos">24</span><span class="n">ugine</span> <span class="o">=</span> <span class="n">Enemy</span><span class="p">(</span><span class="s2">&quot;Ugine&quot;</span><span class="p">)</span>
<span class="linenos">25</span><span class="n">ugine</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;a huge troll with rotting teeth.&quot;</span>
<span class="linenos">26</span><span class="n">ugine</span><span class="o">.</span><span class="n">weakness</span> <span class="o">=</span> <span class="s2">&quot;cheese&quot;</span>
<span class="linenos">27</span>
<span class="linenos">28</span><span class="n">nigel</span> <span class="o">=</span> <span class="n">Friend</span><span class="p">(</span><span class="s2">&quot;Nigel&quot;</span><span class="p">)</span>
<span class="linenos">29</span><span class="n">nigel</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;a burly dwarf with golden bead in woven through his beard.&quot;</span>
<span class="linenos">30</span><span class="n">nigel</span><span class="o">.</span><span class="n">conversation</span> <span class="o">=</span> <span class="s2">&quot;Well youngan, what are you doing here?&quot;</span>
<span class="linenos">31</span>
<span class="linenos">32</span><span class="c1"># add characters to rooms</span>
<span class="linenos">33</span><span class="n">armoury</span><span class="o">.</span><span class="n">inhabitant</span> <span class="o">=</span> <span class="n">ugine</span>
<span class="linenos">34</span><span class="n">lab</span><span class="o">.</span><span class="n">inhabitant</span> <span class="o">=</span> <span class="n">nigel</span>
<span class="linenos">35</span>
<span class="linenos">36</span><span class="c1"># create items</span>
<span class="linenos">37</span><span class="n">cheese</span> <span class="o">=</span> <span class="n">Item</span><span class="p">(</span><span class="s2">&quot;Cheese&quot;</span><span class="p">)</span>
<span class="linenos">38</span><span class="n">cheese</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;super smelly&quot;</span>
<span class="linenos">39</span>
<span class="linenos">40</span><span class="n">chair</span> <span class="o">=</span> <span class="n">Item</span><span class="p">(</span><span class="s2">&quot;Chair&quot;</span><span class="p">)</span>
<span class="linenos">41</span><span class="n">chair</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;designed to be sat on&quot;</span>
<span class="linenos">42</span>
<span class="linenos">43</span><span class="n">elmo</span> <span class="o">=</span> <span class="n">Item</span><span class="p">(</span><span class="s2">&quot;Elmo&quot;</span><span class="p">)</span>
<span class="linenos">44</span><span class="n">elmo</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;wanting to be tickled&quot;</span>
<span class="linenos">45</span>
<span class="linenos">46</span><span class="c1"># add items to rooms</span>
<span class="linenos">47</span><span class="n">cavern</span><span class="o">.</span><span class="n">item</span> <span class="o">=</span> <span class="n">chair</span>
<span class="linenos">48</span><span class="n">armoury</span><span class="o">.</span><span class="n">item</span> <span class="o">=</span> <span class="n">elmo</span>
<span class="linenos">49</span><span class="n">lab</span><span class="o">.</span><span class="n">item</span> <span class="o">=</span> <span class="n">cheese</span>
<span class="linenos">50</span>
<span class="linenos">51</span><span class="sd">&#39;&#39;&#39;</span>
<span class="linenos">52</span><span class="sd"># describe the rooms</span>
<span class="linenos">53</span><span class="sd">cavern.describe()</span>
<span class="linenos">54</span><span class="sd">armoury.describe()</span>
<span class="linenos">55</span><span class="sd">lab.describe()</span>
<span class="linenos">56</span><span class="sd">&#39;&#39;&#39;</span>
<span class="linenos">57</span>
<span class="linenos">58</span><span class="c1"># initialise variables</span>
<span class="linenos">59</span><span class="n">running</span> <span class="o">=</span> <span class="kc">True</span>
<span class="linenos">60</span><span class="n">current_room</span> <span class="o">=</span> <span class="n">cavern</span>
<span class="hll"><span class="linenos">61</span><span class="n">backpack</span> <span class="o">=</span> <span class="p">[]</span>
</span><span class="linenos">62</span>
<span class="linenos">63</span><span class="c1"># ----- MAIN LOOP -----</span>
<span class="linenos">64</span><span class="k">while</span> <span class="n">running</span><span class="p">:</span>
<span class="linenos">65</span>    <span class="n">current_room</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
<span class="linenos">66</span>    
<span class="linenos">67</span>    <span class="n">command</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;&gt; &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<span class="linenos">68</span>    
<span class="linenos">69</span>    <span class="k">if</span> <span class="n">command</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;north&quot;</span><span class="p">,</span> <span class="s2">&quot;south&quot;</span><span class="p">,</span> <span class="s2">&quot;east&quot;</span><span class="p">,</span> <span class="s2">&quot;west&quot;</span><span class="p">]:</span>
<span class="linenos">70</span>        <span class="n">current_room</span> <span class="o">=</span> <span class="n">current_room</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
<span class="linenos">71</span>    <span class="k">elif</span> <span class="n">command</span> <span class="o">==</span> <span class="s2">&quot;talk&quot;</span><span class="p">:</span>
<span class="linenos">72</span>        <span class="k">if</span> <span class="n">current_room</span><span class="o">.</span><span class="n">inhabitant</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<span class="linenos">73</span>            <span class="n">current_room</span><span class="o">.</span><span class="n">inhabitant</span><span class="o">.</span><span class="n">talk</span><span class="p">()</span>
<span class="linenos">74</span>        <span class="k">else</span><span class="p">:</span>
<span class="linenos">75</span>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;There is no one here to talk to&quot;</span><span class="p">)</span>
<span class="linenos">76</span>    <span class="k">elif</span> <span class="n">command</span> <span class="o">==</span> <span class="s2">&quot;hug&quot;</span><span class="p">:</span>
<span class="linenos">77</span>        <span class="k">if</span> <span class="n">current_room</span><span class="o">.</span><span class="n">inhabitant</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<span class="linenos">78</span>            <span class="n">current_room</span><span class="o">.</span><span class="n">inhabitant</span><span class="o">.</span><span class="n">hug</span><span class="p">()</span>
<span class="linenos">79</span>        <span class="k">else</span><span class="p">:</span>
<span class="linenos">80</span>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;There is no one here to hug&quot;</span><span class="p">)</span>
<span class="linenos">81</span>    <span class="k">elif</span> <span class="n">command</span> <span class="o">==</span> <span class="s2">&quot;fight&quot;</span><span class="p">:</span>
<span class="linenos">82</span>        <span class="k">if</span> <span class="n">current_room</span><span class="o">.</span><span class="n">inhabitant</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<span class="linenos">83</span>            <span class="n">weapon</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;What will you fight with? &gt; &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<span class="linenos">84</span>            <span class="k">if</span> <span class="n">current_room</span><span class="o">.</span><span class="n">inhabitant</span><span class="o">.</span><span class="n">fight</span><span class="p">(</span><span class="n">weapon</span><span class="p">):</span>
<span class="linenos">85</span>                <span class="n">current_room</span><span class="o">.</span><span class="n">inhabitant</span> <span class="o">=</span> <span class="kc">None</span>
<span class="linenos">86</span>            <span class="k">else</span><span class="p">:</span>
<span class="linenos">87</span>                <span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>
<span class="linenos">88</span>        <span class="k">else</span><span class="p">:</span>
<span class="linenos">89</span>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;There is no one here to fight&quot;</span><span class="p">)</span>
<span class="linenos">90</span>    <span class="k">elif</span> <span class="n">command</span> <span class="o">==</span> <span class="s2">&quot;quit&quot;</span><span class="p">:</span>
<span class="linenos">91</span>        <span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>
<span class="linenos">92</span>    <span class="k">else</span><span class="p">:</span>
<span class="linenos">93</span>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;I don&#39;t understand.&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>We don’t need to <strong>investigate</strong> this line of code, as we all know what it does.</p>
</section>
<section id="add-take-command">
<h2>Add take command<a class="headerlink" href="#add-take-command" title="Permalink to this heading">#</a></h2>
<p>Now that we have a backpack we need to create a command that allows the user to pick up items in the room and place them in the backpack. We will use <strong>take</strong> as that command.</p>
<p>Still working in <strong>main.py</strong> add the take command using the highlighted code below:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="c1"># main.py</span>
<span class="linenos">  2</span>
<span class="linenos">  3</span><span class="kn">from</span> <span class="nn">room</span> <span class="kn">import</span> <span class="n">Room</span>
<span class="linenos">  4</span><span class="kn">from</span> <span class="nn">character</span> <span class="kn">import</span> <span class="n">Enemy</span><span class="p">,</span> <span class="n">Friend</span>
<span class="linenos">  5</span><span class="kn">from</span> <span class="nn">item</span> <span class="kn">import</span> <span class="n">Item</span>
<span class="linenos">  6</span>
<span class="linenos">  7</span><span class="c1"># create rooms</span>
<span class="linenos">  8</span><span class="n">cavern</span> <span class="o">=</span> <span class="n">Room</span><span class="p">(</span><span class="s2">&quot;Cavern&quot;</span><span class="p">)</span>
<span class="linenos">  9</span><span class="n">cavern</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;A room so big that the light of your torch doesn’t reach the walls.&quot;</span><span class="p">)</span>
<span class="linenos"> 10</span>
<span class="linenos"> 11</span><span class="n">armoury</span> <span class="o">=</span> <span class="n">Room</span><span class="p">(</span><span class="s2">&quot;Armoury&quot;</span><span class="p">)</span>
<span class="linenos"> 12</span><span class="n">armoury</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;The walls are lined with racks that once held weapons and armour.&quot;</span><span class="p">)</span>
<span class="linenos"> 13</span>
<span class="linenos"> 14</span><span class="n">lab</span> <span class="o">=</span> <span class="n">Room</span><span class="p">(</span><span class="s2">&quot;Laboratory&quot;</span><span class="p">)</span>
<span class="linenos"> 15</span><span class="n">lab</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;A strange odour hangs in a room filled with unknownable contraptions.&quot;</span><span class="p">)</span>
<span class="linenos"> 16</span>
<span class="linenos"> 17</span><span class="c1"># link rooms</span>
<span class="linenos"> 18</span><span class="n">cavern</span><span class="o">.</span><span class="n">link_rooms</span><span class="p">(</span><span class="n">armoury</span><span class="p">,</span><span class="s2">&quot;south&quot;</span><span class="p">)</span>
<span class="linenos"> 19</span><span class="n">armoury</span><span class="o">.</span><span class="n">link_rooms</span><span class="p">(</span><span class="n">cavern</span><span class="p">,</span><span class="s2">&quot;north&quot;</span><span class="p">)</span>
<span class="linenos"> 20</span><span class="n">armoury</span><span class="o">.</span><span class="n">link_rooms</span><span class="p">(</span><span class="n">lab</span><span class="p">,</span><span class="s2">&quot;east&quot;</span><span class="p">)</span>
<span class="linenos"> 21</span><span class="n">lab</span><span class="o">.</span><span class="n">link_rooms</span><span class="p">(</span><span class="n">armoury</span><span class="p">,</span><span class="s2">&quot;west&quot;</span><span class="p">)</span>
<span class="linenos"> 22</span>
<span class="linenos"> 23</span><span class="c1"># create characters</span>
<span class="linenos"> 24</span><span class="n">ugine</span> <span class="o">=</span> <span class="n">Enemy</span><span class="p">(</span><span class="s2">&quot;Ugine&quot;</span><span class="p">)</span>
<span class="linenos"> 25</span><span class="n">ugine</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;a huge troll with rotting teeth.&quot;</span>
<span class="linenos"> 26</span><span class="n">ugine</span><span class="o">.</span><span class="n">weakness</span> <span class="o">=</span> <span class="s2">&quot;cheese&quot;</span>
<span class="linenos"> 27</span>
<span class="linenos"> 28</span><span class="n">nigel</span> <span class="o">=</span> <span class="n">Friend</span><span class="p">(</span><span class="s2">&quot;Nigel&quot;</span><span class="p">)</span>
<span class="linenos"> 29</span><span class="n">nigel</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;a burly dwarf with golden bead in woven through his beard.&quot;</span>
<span class="linenos"> 30</span><span class="n">nigel</span><span class="o">.</span><span class="n">conversation</span> <span class="o">=</span> <span class="s2">&quot;Well youngan, what are you doing here?&quot;</span>
<span class="linenos"> 31</span>
<span class="linenos"> 32</span><span class="c1"># add characters to rooms</span>
<span class="linenos"> 33</span><span class="n">armoury</span><span class="o">.</span><span class="n">inhabitant</span> <span class="o">=</span> <span class="n">ugine</span>
<span class="linenos"> 34</span><span class="n">lab</span><span class="o">.</span><span class="n">inhabitant</span> <span class="o">=</span> <span class="n">nigel</span>
<span class="linenos"> 35</span>
<span class="linenos"> 36</span><span class="c1"># create items</span>
<span class="linenos"> 37</span><span class="n">cheese</span> <span class="o">=</span> <span class="n">Item</span><span class="p">(</span><span class="s2">&quot;Cheese&quot;</span><span class="p">)</span>
<span class="linenos"> 38</span><span class="n">cheese</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;super smelly&quot;</span>
<span class="linenos"> 39</span>
<span class="linenos"> 40</span><span class="n">chair</span> <span class="o">=</span> <span class="n">Item</span><span class="p">(</span><span class="s2">&quot;Chair&quot;</span><span class="p">)</span>
<span class="linenos"> 41</span><span class="n">chair</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;designed to be sat on&quot;</span>
<span class="linenos"> 42</span>
<span class="linenos"> 43</span><span class="n">elmo</span> <span class="o">=</span> <span class="n">Item</span><span class="p">(</span><span class="s2">&quot;Elmo&quot;</span><span class="p">)</span>
<span class="linenos"> 44</span><span class="n">elmo</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;wanting to be tickled&quot;</span>
<span class="linenos"> 45</span>
<span class="linenos"> 46</span><span class="c1"># add items to rooms</span>
<span class="linenos"> 47</span><span class="n">cavern</span><span class="o">.</span><span class="n">item</span> <span class="o">=</span> <span class="n">chair</span>
<span class="linenos"> 48</span><span class="n">armoury</span><span class="o">.</span><span class="n">item</span> <span class="o">=</span> <span class="n">elmo</span>
<span class="linenos"> 49</span><span class="n">lab</span><span class="o">.</span><span class="n">item</span> <span class="o">=</span> <span class="n">cheese</span>
<span class="linenos"> 50</span>
<span class="linenos"> 51</span><span class="sd">&#39;&#39;&#39;</span>
<span class="linenos"> 52</span><span class="sd"># describe the rooms</span>
<span class="linenos"> 53</span><span class="sd">cavern.describe()</span>
<span class="linenos"> 54</span><span class="sd">armoury.describe()</span>
<span class="linenos"> 55</span><span class="sd">lab.describe()</span>
<span class="linenos"> 56</span><span class="sd">&#39;&#39;&#39;</span>
<span class="linenos"> 57</span>
<span class="linenos"> 58</span><span class="c1"># initialise variables</span>
<span class="linenos"> 59</span><span class="n">running</span> <span class="o">=</span> <span class="kc">True</span>
<span class="linenos"> 60</span><span class="n">current_room</span> <span class="o">=</span> <span class="n">cavern</span>
<span class="linenos"> 61</span><span class="n">backpack</span> <span class="o">=</span> <span class="p">[]</span>
<span class="linenos"> 62</span>
<span class="linenos"> 63</span><span class="c1"># ----- MAIN LOOP -----</span>
<span class="linenos"> 64</span><span class="k">while</span> <span class="n">running</span><span class="p">:</span>
<span class="linenos"> 65</span>    <span class="n">current_room</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
<span class="linenos"> 66</span>    
<span class="linenos"> 67</span>    <span class="n">command</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;&gt; &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<span class="linenos"> 68</span>    
<span class="linenos"> 69</span>    <span class="k">if</span> <span class="n">command</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;north&quot;</span><span class="p">,</span> <span class="s2">&quot;south&quot;</span><span class="p">,</span> <span class="s2">&quot;east&quot;</span><span class="p">,</span> <span class="s2">&quot;west&quot;</span><span class="p">]:</span>
<span class="linenos"> 70</span>        <span class="n">current_room</span> <span class="o">=</span> <span class="n">current_room</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
<span class="linenos"> 71</span>    <span class="k">elif</span> <span class="n">command</span> <span class="o">==</span> <span class="s2">&quot;talk&quot;</span><span class="p">:</span>
<span class="linenos"> 72</span>        <span class="k">if</span> <span class="n">current_room</span><span class="o">.</span><span class="n">inhabitant</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<span class="linenos"> 73</span>            <span class="n">current_room</span><span class="o">.</span><span class="n">inhabitant</span><span class="o">.</span><span class="n">talk</span><span class="p">()</span>
<span class="linenos"> 74</span>        <span class="k">else</span><span class="p">:</span>
<span class="linenos"> 75</span>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;There is no one here to talk to&quot;</span><span class="p">)</span>
<span class="linenos"> 76</span>    <span class="k">elif</span> <span class="n">command</span> <span class="o">==</span> <span class="s2">&quot;hug&quot;</span><span class="p">:</span>
<span class="linenos"> 77</span>        <span class="k">if</span> <span class="n">current_room</span><span class="o">.</span><span class="n">inhabitant</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<span class="linenos"> 78</span>            <span class="n">current_room</span><span class="o">.</span><span class="n">inhabitant</span><span class="o">.</span><span class="n">hug</span><span class="p">()</span>
<span class="linenos"> 79</span>        <span class="k">else</span><span class="p">:</span>
<span class="linenos"> 80</span>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;There is no one here to hug&quot;</span><span class="p">)</span>
<span class="linenos"> 81</span>    <span class="k">elif</span> <span class="n">command</span> <span class="o">==</span> <span class="s2">&quot;fight&quot;</span><span class="p">:</span>
<span class="linenos"> 82</span>        <span class="k">if</span> <span class="n">current_room</span><span class="o">.</span><span class="n">inhabitant</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<span class="linenos"> 83</span>            <span class="n">weapon</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;What will you fight with? &gt; &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<span class="linenos"> 84</span>            <span class="k">if</span> <span class="n">current_room</span><span class="o">.</span><span class="n">inhabitant</span><span class="o">.</span><span class="n">fight</span><span class="p">(</span><span class="n">weapon</span><span class="p">):</span>
<span class="linenos"> 85</span>                <span class="n">current_room</span><span class="o">.</span><span class="n">inhabitant</span> <span class="o">=</span> <span class="kc">None</span>
<span class="linenos"> 86</span>            <span class="k">else</span><span class="p">:</span>
<span class="linenos"> 87</span>                <span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>
<span class="linenos"> 88</span>        <span class="k">else</span><span class="p">:</span>
<span class="linenos"> 89</span>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;There is no one here to fight&quot;</span><span class="p">)</span>
<span class="hll"><span class="linenos"> 90</span>    <span class="k">elif</span> <span class="n">command</span> <span class="o">==</span> <span class="s2">&quot;take&quot;</span><span class="p">:</span>
</span><span class="hll"><span class="linenos"> 91</span>        <span class="k">if</span> <span class="n">current_room</span><span class="o">.</span><span class="n">item</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span class="hll"><span class="linenos"> 92</span>            <span class="n">backpack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">current_room</span><span class="o">.</span><span class="n">item</span><span class="p">)</span>
</span><span class="hll"><span class="linenos"> 93</span>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;You put </span><span class="si">{</span><span class="n">current_room</span><span class="o">.</span><span class="n">item</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> into your backpack&quot;</span><span class="p">)</span>
</span><span class="hll"><span class="linenos"> 94</span>            <span class="n">current_room</span><span class="o">.</span><span class="n">item</span> <span class="o">=</span> <span class="kc">None</span>
</span><span class="hll"><span class="linenos"> 95</span>        <span class="k">else</span><span class="p">:</span>
</span><span class="hll"><span class="linenos"> 96</span>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;There is nothing here to take&quot;</span><span class="p">)</span>
</span><span class="linenos"> 97</span>    <span class="k">elif</span> <span class="n">command</span> <span class="o">==</span> <span class="s2">&quot;quit&quot;</span><span class="p">:</span>
<span class="linenos"> 98</span>        <span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>
<span class="linenos"> 99</span>    <span class="k">else</span><span class="p">:</span>
<span class="linenos">100</span>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;I don&#39;t understand.&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Save <strong>main.py</strong> <strong>predict</strong> what you think will happen and then <strong>run</strong> the code. What happens to the room description after you take an item?</p>
<p>In <strong>investigating</strong> this code, most of it should be familiar from our previous command event handlers. The different code is:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">backpack.append(current_room.item)</span></code> → take the <code class="docutils literal notranslate"><span class="pre">Item</span></code> object in the room and adds it to the end of the <code class="docutils literal notranslate"><span class="pre">backpack</span></code> list.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">print(f&quot;You</span> <span class="pre">put</span> <span class="pre">{current_room.item.name}</span> <span class="pre">into</span> <span class="pre">your</span> <span class="pre">backpack&quot;)</span></code> → informs the user that they have collected the item</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">current_room.item</span> <span class="pre">=</span> <span class="pre">None</span></code> → removes the <code class="docutils literal notranslate"><span class="pre">Item</span></code> object from the room by setting the <code class="docutils literal notranslate"><span class="pre">Room</span></code> object’s <code class="docutils literal notranslate"><span class="pre">item</span></code> attribute to <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</section>
<section id="add-backpack-command">
<h2>Add backpack command<a class="headerlink" href="#add-backpack-command" title="Permalink to this heading">#</a></h2>
<p>Now that we are putting items in the backpack, we need to create a way for the user to see what they have. We will make a new <strong>backpack</strong> command that lists the <code class="docutils literal notranslate"><span class="pre">Item</span></code> objects stored in their backpack.</p>
<p>Still working in <strong>main.py</strong>, add the code below:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="c1"># main.py</span>
<span class="linenos">  2</span>
<span class="linenos">  3</span><span class="kn">from</span> <span class="nn">room</span> <span class="kn">import</span> <span class="n">Room</span>
<span class="linenos">  4</span><span class="kn">from</span> <span class="nn">character</span> <span class="kn">import</span> <span class="n">Enemy</span><span class="p">,</span> <span class="n">Friend</span>
<span class="linenos">  5</span><span class="kn">from</span> <span class="nn">item</span> <span class="kn">import</span> <span class="n">Item</span>
<span class="linenos">  6</span>
<span class="linenos">  7</span><span class="c1"># create rooms</span>
<span class="linenos">  8</span><span class="n">cavern</span> <span class="o">=</span> <span class="n">Room</span><span class="p">(</span><span class="s2">&quot;Cavern&quot;</span><span class="p">)</span>
<span class="linenos">  9</span><span class="n">cavern</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;A room so big that the light of your torch doesn’t reach the walls.&quot;</span><span class="p">)</span>
<span class="linenos"> 10</span>
<span class="linenos"> 11</span><span class="n">armoury</span> <span class="o">=</span> <span class="n">Room</span><span class="p">(</span><span class="s2">&quot;Armoury&quot;</span><span class="p">)</span>
<span class="linenos"> 12</span><span class="n">armoury</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;The walls are lined with racks that once held weapons and armour.&quot;</span><span class="p">)</span>
<span class="linenos"> 13</span>
<span class="linenos"> 14</span><span class="n">lab</span> <span class="o">=</span> <span class="n">Room</span><span class="p">(</span><span class="s2">&quot;Laboratory&quot;</span><span class="p">)</span>
<span class="linenos"> 15</span><span class="n">lab</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;A strange odour hangs in a room filled with unknownable contraptions.&quot;</span><span class="p">)</span>
<span class="linenos"> 16</span>
<span class="linenos"> 17</span><span class="c1"># link rooms</span>
<span class="linenos"> 18</span><span class="n">cavern</span><span class="o">.</span><span class="n">link_rooms</span><span class="p">(</span><span class="n">armoury</span><span class="p">,</span><span class="s2">&quot;south&quot;</span><span class="p">)</span>
<span class="linenos"> 19</span><span class="n">armoury</span><span class="o">.</span><span class="n">link_rooms</span><span class="p">(</span><span class="n">cavern</span><span class="p">,</span><span class="s2">&quot;north&quot;</span><span class="p">)</span>
<span class="linenos"> 20</span><span class="n">armoury</span><span class="o">.</span><span class="n">link_rooms</span><span class="p">(</span><span class="n">lab</span><span class="p">,</span><span class="s2">&quot;east&quot;</span><span class="p">)</span>
<span class="linenos"> 21</span><span class="n">lab</span><span class="o">.</span><span class="n">link_rooms</span><span class="p">(</span><span class="n">armoury</span><span class="p">,</span><span class="s2">&quot;west&quot;</span><span class="p">)</span>
<span class="linenos"> 22</span>
<span class="linenos"> 23</span><span class="c1"># create characters</span>
<span class="linenos"> 24</span><span class="n">ugine</span> <span class="o">=</span> <span class="n">Enemy</span><span class="p">(</span><span class="s2">&quot;Ugine&quot;</span><span class="p">)</span>
<span class="linenos"> 25</span><span class="n">ugine</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;a huge troll with rotting teeth.&quot;</span>
<span class="linenos"> 26</span><span class="n">ugine</span><span class="o">.</span><span class="n">weakness</span> <span class="o">=</span> <span class="s2">&quot;cheese&quot;</span>
<span class="linenos"> 27</span>
<span class="linenos"> 28</span><span class="n">nigel</span> <span class="o">=</span> <span class="n">Friend</span><span class="p">(</span><span class="s2">&quot;Nigel&quot;</span><span class="p">)</span>
<span class="linenos"> 29</span><span class="n">nigel</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;a burly dwarf with golden bead in woven through his beard.&quot;</span>
<span class="linenos"> 30</span><span class="n">nigel</span><span class="o">.</span><span class="n">conversation</span> <span class="o">=</span> <span class="s2">&quot;Well youngan, what are you doing here?&quot;</span>
<span class="linenos"> 31</span>
<span class="linenos"> 32</span><span class="c1"># add characters to rooms</span>
<span class="linenos"> 33</span><span class="n">armoury</span><span class="o">.</span><span class="n">inhabitant</span> <span class="o">=</span> <span class="n">ugine</span>
<span class="linenos"> 34</span><span class="n">lab</span><span class="o">.</span><span class="n">inhabitant</span> <span class="o">=</span> <span class="n">nigel</span>
<span class="linenos"> 35</span>
<span class="linenos"> 36</span><span class="c1"># create items</span>
<span class="linenos"> 37</span><span class="n">cheese</span> <span class="o">=</span> <span class="n">Item</span><span class="p">(</span><span class="s2">&quot;Cheese&quot;</span><span class="p">)</span>
<span class="linenos"> 38</span><span class="n">cheese</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;super smelly&quot;</span>
<span class="linenos"> 39</span>
<span class="linenos"> 40</span><span class="n">chair</span> <span class="o">=</span> <span class="n">Item</span><span class="p">(</span><span class="s2">&quot;Chair&quot;</span><span class="p">)</span>
<span class="linenos"> 41</span><span class="n">chair</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;designed to be sat on&quot;</span>
<span class="linenos"> 42</span>
<span class="linenos"> 43</span><span class="n">elmo</span> <span class="o">=</span> <span class="n">Item</span><span class="p">(</span><span class="s2">&quot;Elmo&quot;</span><span class="p">)</span>
<span class="linenos"> 44</span><span class="n">elmo</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;wanting to be tickled&quot;</span>
<span class="linenos"> 45</span>
<span class="linenos"> 46</span><span class="c1"># add items to rooms</span>
<span class="linenos"> 47</span><span class="n">cavern</span><span class="o">.</span><span class="n">item</span> <span class="o">=</span> <span class="n">chair</span>
<span class="linenos"> 48</span><span class="n">armoury</span><span class="o">.</span><span class="n">item</span> <span class="o">=</span> <span class="n">elmo</span>
<span class="linenos"> 49</span><span class="n">lab</span><span class="o">.</span><span class="n">item</span> <span class="o">=</span> <span class="n">cheese</span>
<span class="linenos"> 50</span>
<span class="linenos"> 51</span><span class="sd">&#39;&#39;&#39;</span>
<span class="linenos"> 52</span><span class="sd"># describe the rooms</span>
<span class="linenos"> 53</span><span class="sd">cavern.describe()</span>
<span class="linenos"> 54</span><span class="sd">armoury.describe()</span>
<span class="linenos"> 55</span><span class="sd">lab.describe()</span>
<span class="linenos"> 56</span><span class="sd">&#39;&#39;&#39;</span>
<span class="linenos"> 57</span>
<span class="linenos"> 58</span><span class="c1"># initialise variables</span>
<span class="linenos"> 59</span><span class="n">running</span> <span class="o">=</span> <span class="kc">True</span>
<span class="linenos"> 60</span><span class="n">current_room</span> <span class="o">=</span> <span class="n">cavern</span>
<span class="linenos"> 61</span><span class="n">backpack</span> <span class="o">=</span> <span class="p">[]</span>
<span class="linenos"> 62</span>
<span class="linenos"> 63</span><span class="c1"># ----- MAIN LOOP -----</span>
<span class="linenos"> 64</span><span class="k">while</span> <span class="n">running</span><span class="p">:</span>
<span class="linenos"> 65</span>    <span class="n">current_room</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
<span class="linenos"> 66</span>    
<span class="linenos"> 67</span>    <span class="n">command</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;&gt; &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<span class="linenos"> 68</span>    
<span class="linenos"> 69</span>    <span class="k">if</span> <span class="n">command</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;north&quot;</span><span class="p">,</span> <span class="s2">&quot;south&quot;</span><span class="p">,</span> <span class="s2">&quot;east&quot;</span><span class="p">,</span> <span class="s2">&quot;west&quot;</span><span class="p">]:</span>
<span class="linenos"> 70</span>        <span class="n">current_room</span> <span class="o">=</span> <span class="n">current_room</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
<span class="linenos"> 71</span>    <span class="k">elif</span> <span class="n">command</span> <span class="o">==</span> <span class="s2">&quot;talk&quot;</span><span class="p">:</span>
<span class="linenos"> 72</span>        <span class="k">if</span> <span class="n">current_room</span><span class="o">.</span><span class="n">inhabitant</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<span class="linenos"> 73</span>            <span class="n">current_room</span><span class="o">.</span><span class="n">inhabitant</span><span class="o">.</span><span class="n">talk</span><span class="p">()</span>
<span class="linenos"> 74</span>        <span class="k">else</span><span class="p">:</span>
<span class="linenos"> 75</span>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;There is no one here to talk to&quot;</span><span class="p">)</span>
<span class="linenos"> 76</span>    <span class="k">elif</span> <span class="n">command</span> <span class="o">==</span> <span class="s2">&quot;hug&quot;</span><span class="p">:</span>
<span class="linenos"> 77</span>        <span class="k">if</span> <span class="n">current_room</span><span class="o">.</span><span class="n">inhabitant</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<span class="linenos"> 78</span>            <span class="n">current_room</span><span class="o">.</span><span class="n">inhabitant</span><span class="o">.</span><span class="n">hug</span><span class="p">()</span>
<span class="linenos"> 79</span>        <span class="k">else</span><span class="p">:</span>
<span class="linenos"> 80</span>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;There is no one here to hug&quot;</span><span class="p">)</span>
<span class="linenos"> 81</span>    <span class="k">elif</span> <span class="n">command</span> <span class="o">==</span> <span class="s2">&quot;fight&quot;</span><span class="p">:</span>
<span class="linenos"> 82</span>        <span class="k">if</span> <span class="n">current_room</span><span class="o">.</span><span class="n">inhabitant</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<span class="linenos"> 83</span>            <span class="n">weapon</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;What will you fight with? &gt; &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<span class="linenos"> 84</span>            <span class="k">if</span> <span class="n">current_room</span><span class="o">.</span><span class="n">inhabitant</span><span class="o">.</span><span class="n">fight</span><span class="p">(</span><span class="n">weapon</span><span class="p">):</span>
<span class="linenos"> 85</span>                <span class="n">current_room</span><span class="o">.</span><span class="n">inhabitant</span> <span class="o">=</span> <span class="kc">None</span>
<span class="linenos"> 86</span>            <span class="k">else</span><span class="p">:</span>
<span class="linenos"> 87</span>                <span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>
<span class="linenos"> 88</span>        <span class="k">else</span><span class="p">:</span>
<span class="linenos"> 89</span>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;There is no one here to fight&quot;</span><span class="p">)</span>
<span class="linenos"> 90</span>    <span class="k">elif</span> <span class="n">command</span> <span class="o">==</span> <span class="s2">&quot;take&quot;</span><span class="p">:</span>
<span class="linenos"> 91</span>        <span class="k">if</span> <span class="n">current_room</span><span class="o">.</span><span class="n">item</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<span class="linenos"> 92</span>            <span class="n">backpack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">current_room</span><span class="o">.</span><span class="n">item</span><span class="p">)</span>
<span class="linenos"> 93</span>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;You put </span><span class="si">{</span><span class="n">current_room</span><span class="o">.</span><span class="n">item</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> into your backpack&quot;</span><span class="p">)</span>
<span class="linenos"> 94</span>            <span class="n">current_room</span><span class="o">.</span><span class="n">item</span> <span class="o">=</span> <span class="kc">None</span>
<span class="linenos"> 95</span>        <span class="k">else</span><span class="p">:</span>
<span class="linenos"> 96</span>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;There is nothing here to take&quot;</span><span class="p">)</span>
<span class="hll"><span class="linenos"> 97</span>    <span class="k">elif</span> <span class="n">command</span> <span class="o">==</span> <span class="s2">&quot;backpack&quot;</span><span class="p">:</span>
</span><span class="hll"><span class="linenos"> 98</span>        <span class="k">if</span> <span class="n">backpack</span> <span class="o">==</span> <span class="p">[]:</span>
</span><span class="hll"><span class="linenos"> 99</span>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;It is empty&quot;</span><span class="p">)</span>
</span><span class="hll"><span class="linenos">100</span>        <span class="k">else</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">101</span>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;You have:&quot;</span><span class="p">)</span>
</span><span class="hll"><span class="linenos">102</span>            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">backpack</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">103</span>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;- </span><span class="si">{</span><span class="n">item</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span class="linenos">104</span>    <span class="k">elif</span> <span class="n">command</span> <span class="o">==</span> <span class="s2">&quot;quit&quot;</span><span class="p">:</span>
<span class="linenos">105</span>        <span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>
<span class="linenos">106</span>    <span class="k">else</span><span class="p">:</span>
<span class="linenos">107</span>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;I don&#39;t understand.&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Save the <strong>main.py</strong> file, <strong>predict</strong> and then <strong>run</strong> your code. This time we should do some serious testing.</p>
<p>We need to make sure that:</p>
<ul class="simple">
<li><p>we can pick up all the items in all the rooms</p></li>
<li><p>the items are added to the backpack when they are picked up</p></li>
<li><p>the items are removed from the room when they are picked up</p></li>
</ul>
<p>If your testing all works out, then it’s time to <strong>investigate</strong> the code.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">elif</span> <span class="pre">command</span> <span class="pre">==</span> <span class="pre">&quot;backpack&quot;:</span></code> → the event handler for the <code class="docutils literal notranslate"><span class="pre">backpack</span></code> command</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">backpack</span> <span class="pre">==</span> <span class="pre">[]:</span></code> → checks if the backpack is empty</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">print(&quot;It</span> <span class="pre">is</span> <span class="pre">empty&quot;)</span></code> → informs the user that the backpack is empty</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">else:</span></code> → if the backpack is not empty</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">print(&quot;You</span> <span class="pre">have:&quot;)</span></code> → displays a message before listing backpack items</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">item</span> <span class="pre">in</span> <span class="pre">backpack:</span></code> → iterates over each item in the backpack</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">print(f&quot;-</span> <span class="pre">{item.name.capitalize()}&quot;)</span></code> → capitalizes and prints the name of the current <code class="docutils literal notranslate"><span class="pre">item</span></code> that the <code class="docutils literal notranslate"><span class="pre">for</span></code> loop is dealing with.</p></li>
</ul>
</section>
<section id="adjusting-the-fight-command">
<h2>Adjusting the fight command<a class="headerlink" href="#adjusting-the-fight-command" title="Permalink to this heading">#</a></h2>
<p>Finally we will adjust the <code class="docutils literal notranslate"><span class="pre">fight</span></code> event handler so the user can only use items they currently have in their backpack.</p>
<p>Still working in <strong>main.py</strong>, add the code below.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="c1"># main.py</span>
<span class="linenos">  2</span>
<span class="linenos">  3</span><span class="kn">from</span> <span class="nn">room</span> <span class="kn">import</span> <span class="n">Room</span>
<span class="linenos">  4</span><span class="kn">from</span> <span class="nn">character</span> <span class="kn">import</span> <span class="n">Enemy</span><span class="p">,</span> <span class="n">Friend</span>
<span class="linenos">  5</span><span class="kn">from</span> <span class="nn">item</span> <span class="kn">import</span> <span class="n">Item</span>
<span class="linenos">  6</span>
<span class="linenos">  7</span><span class="c1"># create rooms</span>
<span class="linenos">  8</span><span class="n">cavern</span> <span class="o">=</span> <span class="n">Room</span><span class="p">(</span><span class="s2">&quot;Cavern&quot;</span><span class="p">)</span>
<span class="linenos">  9</span><span class="n">cavern</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;A room so big that the light of your torch doesn’t reach the walls.&quot;</span><span class="p">)</span>
<span class="linenos"> 10</span>
<span class="linenos"> 11</span><span class="n">armoury</span> <span class="o">=</span> <span class="n">Room</span><span class="p">(</span><span class="s2">&quot;Armoury&quot;</span><span class="p">)</span>
<span class="linenos"> 12</span><span class="n">armoury</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;The walls are lined with racks that once held weapons and armour.&quot;</span><span class="p">)</span>
<span class="linenos"> 13</span>
<span class="linenos"> 14</span><span class="n">lab</span> <span class="o">=</span> <span class="n">Room</span><span class="p">(</span><span class="s2">&quot;Laboratory&quot;</span><span class="p">)</span>
<span class="linenos"> 15</span><span class="n">lab</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;A strange odour hangs in a room filled with unknownable contraptions.&quot;</span><span class="p">)</span>
<span class="linenos"> 16</span>
<span class="linenos"> 17</span><span class="c1"># link rooms</span>
<span class="linenos"> 18</span><span class="n">cavern</span><span class="o">.</span><span class="n">link_rooms</span><span class="p">(</span><span class="n">armoury</span><span class="p">,</span><span class="s2">&quot;south&quot;</span><span class="p">)</span>
<span class="linenos"> 19</span><span class="n">armoury</span><span class="o">.</span><span class="n">link_rooms</span><span class="p">(</span><span class="n">cavern</span><span class="p">,</span><span class="s2">&quot;north&quot;</span><span class="p">)</span>
<span class="linenos"> 20</span><span class="n">armoury</span><span class="o">.</span><span class="n">link_rooms</span><span class="p">(</span><span class="n">lab</span><span class="p">,</span><span class="s2">&quot;east&quot;</span><span class="p">)</span>
<span class="linenos"> 21</span><span class="n">lab</span><span class="o">.</span><span class="n">link_rooms</span><span class="p">(</span><span class="n">armoury</span><span class="p">,</span><span class="s2">&quot;west&quot;</span><span class="p">)</span>
<span class="linenos"> 22</span>
<span class="linenos"> 23</span><span class="c1"># create characters</span>
<span class="linenos"> 24</span><span class="n">ugine</span> <span class="o">=</span> <span class="n">Enemy</span><span class="p">(</span><span class="s2">&quot;Ugine&quot;</span><span class="p">)</span>
<span class="linenos"> 25</span><span class="n">ugine</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;a huge troll with rotting teeth.&quot;</span>
<span class="linenos"> 26</span><span class="n">ugine</span><span class="o">.</span><span class="n">weakness</span> <span class="o">=</span> <span class="s2">&quot;cheese&quot;</span>
<span class="linenos"> 27</span>
<span class="linenos"> 28</span><span class="n">nigel</span> <span class="o">=</span> <span class="n">Friend</span><span class="p">(</span><span class="s2">&quot;Nigel&quot;</span><span class="p">)</span>
<span class="linenos"> 29</span><span class="n">nigel</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;a burly dwarf with golden bead in woven through his beard.&quot;</span>
<span class="linenos"> 30</span><span class="n">nigel</span><span class="o">.</span><span class="n">conversation</span> <span class="o">=</span> <span class="s2">&quot;Well youngan, what are you doing here?&quot;</span>
<span class="linenos"> 31</span>
<span class="linenos"> 32</span><span class="c1"># add characters to rooms</span>
<span class="linenos"> 33</span><span class="n">armoury</span><span class="o">.</span><span class="n">inhabitant</span> <span class="o">=</span> <span class="n">ugine</span>
<span class="linenos"> 34</span><span class="n">lab</span><span class="o">.</span><span class="n">inhabitant</span> <span class="o">=</span> <span class="n">nigel</span>
<span class="linenos"> 35</span>
<span class="linenos"> 36</span><span class="c1"># create items</span>
<span class="linenos"> 37</span><span class="n">cheese</span> <span class="o">=</span> <span class="n">Item</span><span class="p">(</span><span class="s2">&quot;Cheese&quot;</span><span class="p">)</span>
<span class="linenos"> 38</span><span class="n">cheese</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;super smelly&quot;</span>
<span class="linenos"> 39</span>
<span class="linenos"> 40</span><span class="n">chair</span> <span class="o">=</span> <span class="n">Item</span><span class="p">(</span><span class="s2">&quot;Chair&quot;</span><span class="p">)</span>
<span class="linenos"> 41</span><span class="n">chair</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;designed to be sat on&quot;</span>
<span class="linenos"> 42</span>
<span class="linenos"> 43</span><span class="n">elmo</span> <span class="o">=</span> <span class="n">Item</span><span class="p">(</span><span class="s2">&quot;Elmo&quot;</span><span class="p">)</span>
<span class="linenos"> 44</span><span class="n">elmo</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;wanting to be tickled&quot;</span>
<span class="linenos"> 45</span>
<span class="linenos"> 46</span><span class="c1"># add items to rooms</span>
<span class="linenos"> 47</span><span class="n">cavern</span><span class="o">.</span><span class="n">item</span> <span class="o">=</span> <span class="n">chair</span>
<span class="linenos"> 48</span><span class="n">armoury</span><span class="o">.</span><span class="n">item</span> <span class="o">=</span> <span class="n">elmo</span>
<span class="linenos"> 49</span><span class="n">lab</span><span class="o">.</span><span class="n">item</span> <span class="o">=</span> <span class="n">cheese</span>
<span class="linenos"> 50</span>
<span class="linenos"> 51</span><span class="sd">&#39;&#39;&#39;</span>
<span class="linenos"> 52</span><span class="sd"># describe the rooms</span>
<span class="linenos"> 53</span><span class="sd">cavern.describe()</span>
<span class="linenos"> 54</span><span class="sd">armoury.describe()</span>
<span class="linenos"> 55</span><span class="sd">lab.describe()</span>
<span class="linenos"> 56</span><span class="sd">&#39;&#39;&#39;</span>
<span class="linenos"> 57</span>
<span class="linenos"> 58</span><span class="c1"># initialise variables</span>
<span class="linenos"> 59</span><span class="n">running</span> <span class="o">=</span> <span class="kc">True</span>
<span class="linenos"> 60</span><span class="n">current_room</span> <span class="o">=</span> <span class="n">cavern</span>
<span class="linenos"> 61</span><span class="n">backpack</span> <span class="o">=</span> <span class="p">[]</span>
<span class="linenos"> 62</span>
<span class="linenos"> 63</span><span class="c1"># ----- MAIN LOOP -----</span>
<span class="linenos"> 64</span><span class="k">while</span> <span class="n">running</span><span class="p">:</span>
<span class="linenos"> 65</span>    <span class="n">current_room</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
<span class="linenos"> 66</span>    
<span class="linenos"> 67</span>    <span class="n">command</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;&gt; &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<span class="linenos"> 68</span>    
<span class="linenos"> 69</span>    <span class="k">if</span> <span class="n">command</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;north&quot;</span><span class="p">,</span> <span class="s2">&quot;south&quot;</span><span class="p">,</span> <span class="s2">&quot;east&quot;</span><span class="p">,</span> <span class="s2">&quot;west&quot;</span><span class="p">]:</span>
<span class="linenos"> 70</span>        <span class="n">current_room</span> <span class="o">=</span> <span class="n">current_room</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
<span class="linenos"> 71</span>    <span class="k">elif</span> <span class="n">command</span> <span class="o">==</span> <span class="s2">&quot;talk&quot;</span><span class="p">:</span>
<span class="linenos"> 72</span>        <span class="k">if</span> <span class="n">current_room</span><span class="o">.</span><span class="n">inhabitant</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<span class="linenos"> 73</span>            <span class="n">current_room</span><span class="o">.</span><span class="n">inhabitant</span><span class="o">.</span><span class="n">talk</span><span class="p">()</span>
<span class="linenos"> 74</span>        <span class="k">else</span><span class="p">:</span>
<span class="linenos"> 75</span>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;There is no one here to talk to&quot;</span><span class="p">)</span>
<span class="linenos"> 76</span>    <span class="k">elif</span> <span class="n">command</span> <span class="o">==</span> <span class="s2">&quot;hug&quot;</span><span class="p">:</span>
<span class="linenos"> 77</span>        <span class="k">if</span> <span class="n">current_room</span><span class="o">.</span><span class="n">inhabitant</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<span class="linenos"> 78</span>            <span class="n">current_room</span><span class="o">.</span><span class="n">inhabitant</span><span class="o">.</span><span class="n">hug</span><span class="p">()</span>
<span class="linenos"> 79</span>        <span class="k">else</span><span class="p">:</span>
<span class="linenos"> 80</span>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;There is no one here to hug&quot;</span><span class="p">)</span>
<span class="linenos"> 81</span>    <span class="k">elif</span> <span class="n">command</span><span class="o">==</span> <span class="s2">&quot;fight&quot;</span><span class="p">:</span>
<span class="linenos"> 82</span>        <span class="k">if</span> <span class="n">current_room</span><span class="o">.</span><span class="n">character</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<span class="linenos"> 83</span>            <span class="n">weapon</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;What will you fight with? &gt; &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<span class="hll"><span class="linenos"> 84</span>            <span class="n">available_weapons</span> <span class="o">=</span> <span class="p">[]</span>
</span><span class="hll"><span class="linenos"> 85</span>            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">backpack</span><span class="p">:</span>
</span><span class="hll"><span class="linenos"> 86</span>                <span class="n">available_weapons</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</span><span class="hll"><span class="linenos"> 87</span>            <span class="k">if</span> <span class="n">weapon</span> <span class="ow">in</span> <span class="n">available_weapons</span><span class="p">:</span>
</span><span class="hll"><span class="linenos"> 88</span>                <span class="k">if</span> <span class="n">current_room</span><span class="o">.</span><span class="n">character</span><span class="o">.</span><span class="n">fight</span><span class="p">(</span><span class="n">weapon</span><span class="p">):</span>
</span><span class="hll"><span class="linenos"> 89</span>                    <span class="n">current_room</span><span class="o">.</span><span class="n">character</span> <span class="o">=</span> <span class="kc">None</span>
</span><span class="hll"><span class="linenos"> 90</span>                <span class="k">else</span><span class="p">:</span>
</span><span class="hll"><span class="linenos"> 91</span>                    <span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>
</span><span class="hll"><span class="linenos"> 92</span>            <span class="k">else</span><span class="p">:</span>
</span><span class="hll"><span class="linenos"> 93</span>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;You don&#39;t have </span><span class="si">{</span><span class="n">weapon</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span class="hll"><span class="linenos"> 94</span>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">current_room</span><span class="o">.</span><span class="n">character</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> strikes you down.&quot;</span><span class="p">)</span>
</span><span class="hll"><span class="linenos"> 95</span>                <span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>
</span><span class="linenos"> 96</span>        <span class="k">else</span><span class="p">:</span>
<span class="linenos"> 97</span>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;There is no one here to fight&quot;</span><span class="p">)</span>
<span class="linenos"> 98</span>    <span class="k">elif</span> <span class="n">command</span> <span class="o">==</span> <span class="s2">&quot;take&quot;</span><span class="p">:</span>
<span class="linenos"> 99</span>        <span class="k">if</span> <span class="n">current_room</span><span class="o">.</span><span class="n">item</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<span class="linenos">100</span>            <span class="n">backpack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">current_room</span><span class="o">.</span><span class="n">item</span><span class="p">)</span>
<span class="linenos">101</span>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;You put </span><span class="si">{</span><span class="n">current_room</span><span class="o">.</span><span class="n">item</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> into your backpack&quot;</span><span class="p">)</span>
<span class="linenos">102</span>            <span class="n">current_room</span><span class="o">.</span><span class="n">item</span> <span class="o">=</span> <span class="kc">None</span>
<span class="linenos">103</span>        <span class="k">else</span><span class="p">:</span>
<span class="linenos">104</span>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;There is nothing here to take&quot;</span><span class="p">)</span>
<span class="linenos">105</span>    <span class="k">elif</span> <span class="n">command</span> <span class="o">==</span> <span class="s2">&quot;backpack&quot;</span><span class="p">:</span>
<span class="linenos">106</span>        <span class="k">if</span> <span class="n">backpack</span> <span class="o">==</span> <span class="p">[]:</span>
<span class="linenos">107</span>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;It is empty&quot;</span><span class="p">)</span>
<span class="linenos">108</span>        <span class="k">else</span><span class="p">:</span>
<span class="linenos">109</span>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;You have:&quot;</span><span class="p">)</span>
<span class="linenos">110</span>            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">backpack</span><span class="p">:</span>
<span class="linenos">111</span>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;- </span><span class="si">{</span><span class="n">item</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="linenos">112</span>    <span class="k">elif</span> <span class="n">command</span> <span class="o">==</span> <span class="s2">&quot;quit&quot;</span><span class="p">:</span>
<span class="linenos">113</span>        <span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>
<span class="linenos">114</span>    <span class="k">else</span><span class="p">:</span>
<span class="linenos">115</span>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;I don&#39;t understand.&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Save <strong>main.py</strong>. <strong>Predict</strong> what you think will happen, and then <strong>run</strong> the code.</p>
<p>Let’s <strong>investigate</strong> that code, but be aware that there are a number of different sections to that code.</p>
<p>First we need to check that the user actually has the entered weapon in their backpack.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">available_weapons</span> <span class="pre">=</span> <span class="pre">[]</span></code> → creates a new list that contains the <code class="docutils literal notranslate"><span class="pre">name</span></code> attribute for all items in the backpack.</p>
<ul>
<li><p>the backpack stored <code class="docutils literal notranslate"><span class="pre">Item</span></code> objects</p></li>
<li><p>the user entered the item name as a string</p></li>
<li><p>therefore, we need to create a list of the name of all the items in the backpack</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">item</span> <span class="pre">in</span> <span class="pre">backpack:</span></code> → iterates over each item in the backpack</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">available_weapons.append(item.name)</span></code> → add the <code class="docutils literal notranslate"><span class="pre">name</span></code> attribute of the current item to the <code class="docutils literal notranslate"><span class="pre">available_weapons</span></code> list.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">weapon</span> <span class="pre">in</span> <span class="pre">available_weapons:</span></code> → checks that the weapon entered by the user is in the list of available weapons.</p></li>
</ul>
<p>If the user entered an available weapon, then we need to fight with this weapon. Lines <code class="docutils literal notranslate"><span class="pre">88</span></code> to <code class="docutils literal notranslate"><span class="pre">91</span></code> are the same as before, but the have been indented one level. To to this easily increase a block of code’s indentation:</p>
<ul class="simple">
<li><p>highlight lines <code class="docutils literal notranslate"><span class="pre">88</span></code> to <code class="docutils literal notranslate"><span class="pre">91</span></code>, ether using the mouse or <strong>shift</strong> + <strong>arrow</strong> keys.</p></li>
<li><p>then press the <strong>Tab</strong> key once</p></li>
</ul>
<p>If the user didn’t enter an available weapon, then we need to inform them, then make them loose the fight and end the game. This happens in lines <code class="docutils literal notranslate"><span class="pre">92</span></code> to <code class="docutils literal notranslate"><span class="pre">95</span></code></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">else:</span></code> → the weapon entered is not in the <code class="docutils literal notranslate"><span class="pre">available_weapons</span></code> list</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">print(f&quot;You</span> <span class="pre">don't</span> <span class="pre">have</span> <span class="pre">{weapon}&quot;)</span></code> → inform the user that they do not have that item in the backpack</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">print(f&quot;{current_room.character.name}</span> <span class="pre">strikes</span> <span class="pre">you</span> <span class="pre">down.&quot;)</span></code> → resolves the fight as a defeat for the user</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">running</span> <span class="pre">=</span> <span class="pre">False</span></code> ends the game by exiting the main loop.</p></li>
</ul>
</section>
<section id="testing">
<h2>Testing<a class="headerlink" href="#testing" title="Permalink to this heading">#</a></h2>
<p>We now need to test our code. This code now has nested branches of if statements so we have to be aware of testing all the possible options. We will test with Ugine as we know his weakness is cheese.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Collected Cheese</p></th>
<th class="head text-left"><p>Fought Ugine</p></th>
<th class="head text-left"><p>Weapon Used</p></th>
<th class="head text-left"><p>Expected Result</p></th>
<th class="head text-left"><p>Actual Result</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p>Yes</p></td>
<td class="text-left"><p>Yes</p></td>
<td class="text-left"><p>Cheese</p></td>
<td class="text-left"><p>You strike Ugine down with cheese.</p></td>
<td class="text-left"><p></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Yes</p></td>
<td class="text-left"><p>Yes</p></td>
<td class="text-left"><p>Elmo</p></td>
<td class="text-left"><p>Ugine crushes you. Puny adventurer</p></td>
<td class="text-left"><p></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>No</p></td>
<td class="text-left"><p>Yes</p></td>
<td class="text-left"><p>Cheese</p></td>
<td class="text-left"><p>You don’t have cheese…</p></td>
<td class="text-left"><p></p></td>
</tr>
</tbody>
</table>
</div>
<p>If your code passes all the tests, it’s time to <strong>make</strong> some code in the stage 6 task.</p>
</section>
<section id="stage-6-task">
<h2>Stage 6 task<a class="headerlink" href="#stage-6-task" title="Permalink to this heading">#</a></h2>
<p>You need to apply the changes we made to your other characters. Especially if you have another enemy. Make sure that the user can collect their weakness and use it against them.</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="stage_7.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Stage 7 - Victory Conditions</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="stage_5.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Stage 5 - Item Creation</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023, Damien Murtagh
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/DamoM73/turtle-introduction-to-python" aria-label="GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Stage 6 - Use Items</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a><ul>
<li><a class="reference internal" href="#class-diagram">Class Diagram</a></li>
</ul>
</li>
<li><a class="reference internal" href="#creating-a-backpack">Creating a backpack</a></li>
<li><a class="reference internal" href="#add-take-command">Add take command</a></li>
<li><a class="reference internal" href="#add-backpack-command">Add backpack command</a></li>
<li><a class="reference internal" href="#adjusting-the-fight-command">Adjusting the fight command</a></li>
<li><a class="reference internal" href="#testing">Testing</a></li>
<li><a class="reference internal" href="#stage-6-task">Stage 6 task</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/scripts/furo.js"></script>
    </body>
</html>