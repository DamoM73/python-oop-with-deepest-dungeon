<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="genindex.html"><link rel="search" title="Search" href="search.html"><link rel="next" title="Stage 3 - Character Creation" href="stage_3.html"><link rel="prev" title="Stage 1 - Create Rooms" href="stage_1.html">
        <link rel="prefetch" href="_static/opp_logo.png" as="image">
        <link rel="prefetch" href="_static/opp_logo.png" as="image">

    <link rel="shortcut icon" href="_static/logo.ico"><!-- Generated with Sphinx 8.2.3 and Furo 2025.09.25 -->
        <title>Stage 2 - Movement - Deepest Dungeon</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d111a655" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=580074bf" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=8dab3a3b" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css?v=fd6e75f7" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  --font-stack: gill sans, sans-serif;
  --font-stack--monospace: monaco, monospace;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle site navigation sidebar">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc" aria-label="Toggle table of contents sidebar">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <span class="icon"><svg><use href="#svg-menu"></use></svg></span>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">Deepest Dungeon</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="_static/opp_logo.png" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="_static/opp_logo.png" alt="Dark Logo"/>
  </div>
  
  <span class="sidebar-brand-text">Deepest Dungeon</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction for Teachers</a></li>
<li class="toctree-l1"><a class="reference internal" href="student_intro.html">Introduction for Students</a></li>
<li class="toctree-l1"><a class="reference internal" href="oop_introduction.html">OOP Primer</a></li>
<li class="toctree-l1"><a class="reference internal" href="stage_1.html">Stage 1 - Create Rooms</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Stage 2 - Movement</a></li>
<li class="toctree-l1"><a class="reference internal" href="stage_3.html">Stage 3 - Character Creation</a></li>
<li class="toctree-l1"><a class="reference internal" href="stage_4.html">Stage 4 - Character Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="stage_5.html">Stage 5 - Item Creation</a></li>
<li class="toctree-l1"><a class="reference internal" href="stage_6.html">Stage 6 - Use Items</a></li>
<li class="toctree-l1"><a class="reference internal" href="stage_7.html">Stage 7 - Victory Conditions</a></li>
<li class="toctree-l1"><a class="reference internal" href="stage_8.html">Stage 8 - Useability</a></li>
<li class="toctree-l1"><a class="reference internal" href="ext_player.html">Extension - Player Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="extention.html">Extensions Ideas</a></li>
<li class="toctree-l1"><a class="reference internal" href="debugging.html">Debugging with Thonny</a></li>
<li class="toctree-l1"><a class="reference internal" href="licencing.html">Licensing</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="_sources/stage_2.md.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="stage-2-movement">
<h1>Stage 2 - Movement<a class="headerlink" href="#stage-2-movement" title="Link to this heading">¶</a></h1>
<aside class="topic">
<p class="topic-title">Learning Intentions</p>
<p>By the end of this lesson you will:</p>
<ul class="simple">
<li><p>understand event-driven programming and the role of a main loop</p></li>
<li><p>know how methods use arguments and return values to control behaviour</p></li>
<li><p>create a method that returns a new state</p></li>
<li><p>build a main loop that reads user input and triggers event handlers</p></li>
<li><p>test branching code and handle invalid commands with clear feedback</p></li>
</ul>
</aside>
<iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/hZd1FcDApCI" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Link to this heading">¶</a></h2>
<p>In Stage 1 you made three rooms, connected them, and got the program to describe each one. That was a good start, but it’s not much of a game yet. In Stage 2 you’ll write code that lets the player move between rooms, which means changing the game’s <strong>state</strong> (for example, which room you are in), and you’ll build the <strong>main loop</strong>.</p>
<div class="note admonition">
<p class="admonition-title">State machines</p>
<p>A state machine is a way of thinking about how a program changes as things happen. At any moment, the program is in one <strong>state</strong> (like being in a certain room in your game). When an event happens, such as the player typing a command, the program follows a rule that decides what the next state should be.</p>
<p>For example, typing “east” might move you from the Armoury to the Lab. Each state has certain things you can do, and each action can move you to a new state. It’s like following a map where every choice leads to a different place, and the program always knows exactly where it is and what it should do next.</p>
</div>
<p>The main loop is a key part of <strong>event-driven programming</strong>. Your <em><strong>main.py</strong></em> file will set up the game and create all the objects it needs. Then it will enter the <strong>main loop</strong>, where the program waits for the player to type something and then reacts to that input.</p>
<div class="note admonition">
<p class="admonition-title">Event-driven programming</p>
<p>Event-driven programming is when a program doesn’t just run straight from top to bottom, but instead waits for things to happen and reacts to them. These things are called <strong>events</strong>, like the user typing a command, clicking a button, or a sensor sending data.</p>
<p>The program sits in a loop, <strong>listening</strong> for these events, and when one occurs, it runs the code that matches that event. This makes programs more flexible because they only do something when there’s a reason to, just like you don’t answer someone until they speak to you first.</p>
</div>
<p>To achieve this we will need to complete the following steps:</p>
<div class="pseudocode admonition">
<p class="admonition-title">Pseudocode</p>
<ul class="simple">
<li><p>Create the <code class="docutils literal notranslate"><span class="pre">move</span></code> method</p></li>
<li><p>Initialize the starting room</p></li>
<li><p>Create the main loop which:</p>
<ul>
<li><p>describes current room</p></li>
<li><p>accepts user input</p></li>
<li><p>responds to user input</p></li>
</ul>
</li>
</ul>
</div>
<section id="class-diagram">
<h3>Class Diagram<a class="headerlink" href="#class-diagram" title="Link to this heading">¶</a></h3>
<p>We have updated the <code class="docutils literal notranslate"><span class="pre">Room</span></code> class diagram to reflect the Stage 2 work.</p>
<p><img alt="lesson 2 class diagram" src="_images/lesson_2_class_diagram.png" /></p>
<p>Notice we have a new method <code class="docutils literal notranslate"><span class="pre">move(direction):room</span></code></p>
<ul class="simple">
<li><p>accepts one argument (direction)</p></li>
<li><p>returns a <code class="docutils literal notranslate"><span class="pre">Room</span></code> object</p></li>
</ul>
</section>
</section>
<section id="create-the-move-method">
<h2>Create the move method<a class="headerlink" href="#create-the-move-method" title="Link to this heading">¶</a></h2>
<p>Open the <em><strong>room.py</strong></em> file and add the code highlighted below:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1"># room.py</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="k">class</span><span class="w"> </span><span class="nc">Room</span><span class="p">():</span>
<span class="linenos"> 4</span>    
<span class="linenos"> 5</span>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">room_name</span><span class="p">):</span>
<span class="linenos"> 6</span>        <span class="c1"># initialises the room object</span>
<span class="linenos"> 7</span>        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">room_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<span class="linenos"> 8</span>        <span class="bp">self</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="kc">None</span>
<span class="linenos"> 9</span>        <span class="bp">self</span><span class="o">.</span><span class="n">linked_rooms</span> <span class="o">=</span> <span class="p">{}</span>
<span class="linenos">10</span>        
<span class="linenos">11</span>    <span class="k">def</span><span class="w"> </span><span class="nf">describe</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">12</span>        <span class="c1"># sends a description of the room to the terminal</span>
<span class="linenos">13</span>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">You are in the </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="linenos">14</span>        <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">description</span><span class="p">)</span>
<span class="linenos">15</span>        <span class="k">for</span> <span class="n">direction</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">linked_rooms</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
<span class="linenos">16</span>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;To the </span><span class="si">{</span><span class="n">direction</span><span class="si">}</span><span class="s2"> is the </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">linked_rooms</span><span class="p">[</span><span class="n">direction</span><span class="p">]</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="linenos">17</span>    
<span class="linenos">18</span>    <span class="k">def</span><span class="w"> </span><span class="nf">link_rooms</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">room_to_link</span><span class="p">,</span> <span class="n">direction</span><span class="p">):</span>
<span class="linenos">19</span>        <span class="c1"># links the provided room, in the provided direction</span>
<span class="linenos">20</span>        <span class="bp">self</span><span class="o">.</span><span class="n">linked_rooms</span><span class="p">[</span><span class="n">direction</span><span class="o">.</span><span class="n">lower</span><span class="p">()]</span> <span class="o">=</span> <span class="n">room_to_link</span>
<span class="linenos">21</span>        
<span class="hll"><span class="linenos">22</span>    <span class="k">def</span><span class="w"> </span><span class="nf">move</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">direction</span><span class="p">):</span>
</span><span class="hll"><span class="linenos">23</span>        <span class="c1"># returns the room linked in the given direction</span>
</span><span class="hll"><span class="linenos">24</span>        <span class="k">if</span> <span class="n">direction</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">linked_rooms</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span class="hll"><span class="linenos">25</span>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">linked_rooms</span><span class="p">[</span><span class="n">direction</span><span class="p">]</span>
</span><span class="hll"><span class="linenos">26</span>        <span class="k">else</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">27</span>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;You can&#39;t go that way&quot;</span><span class="p">)</span>
</span><span class="hll"><span class="linenos">28</span>            <span class="k">return</span> <span class="bp">self</span>
</span></pre></div>
</div>
<p>We need to create the <strong>main loop</strong> before we call this code, but let’s <strong>investigate</strong> our new code anyway.</p>
<div class="admonition-code-explaination admonition">
<p class="admonition-title">Code Explaination</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">def</span> <span class="pre">move(self,</span> <span class="pre">direction):</span></code> → defines the <code class="docutils literal notranslate"><span class="pre">move</span></code> function and takes one input: the direction the player wants to go.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">returns</span> <span class="pre">the</span> <span class="pre">room</span> <span class="pre">linked</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">given</span> <span class="pre">direction</span></code> → a comment explaining what the function does.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">direction</span> <span class="pre">in</span> <span class="pre">self.linked_rooms.keys():</span></code> → checks whether the direction the player typed is actually one of the directions this room allows.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">self.linked_rooms.keys()</span></code> → gets all the possible directions you can go from this room.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">direction</span> <span class="pre">in</span></code> → checks if the player’s direction is one of those options.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">return</span> <span class="pre">self.linked_rooms[direction]</span></code> → returns the room in that direction if it’s valid.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">self.linked_rooms[direction]</span></code> → retrieves the room object linked to that direction from the dictionary.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">else:</span></code> → runs if the direction isn’t allowed.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">print(&quot;You</span> <span class="pre">can't</span> <span class="pre">go</span> <span class="pre">that</span> <span class="pre">way&quot;)</span></code> → tells the player they tried an invalid direction.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">return</span> <span class="pre">self</span></code> → keeps the player in the same room because the move didn’t work.</p></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="initialize-starting-room">
<h2>Initialize starting room<a class="headerlink" href="#initialize-starting-room" title="Link to this heading">¶</a></h2>
<p>Now go to the <em><strong>main.py</strong></em> file and make the highlighted changes below</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1"># main.py</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="kn">from</span><span class="w"> </span><span class="nn">room</span><span class="w"> </span><span class="kn">import</span> <span class="n">Room</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="c1"># create rooms</span>
<span class="linenos"> 6</span><span class="n">cavern</span> <span class="o">=</span> <span class="n">Room</span><span class="p">(</span><span class="s2">&quot;Cavern&quot;</span><span class="p">)</span>
<span class="linenos"> 7</span><span class="n">cavern</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;A room so big that the light of your torch doesn’t reach the walls.&quot;</span><span class="p">)</span>
<span class="linenos"> 8</span>
<span class="linenos"> 9</span><span class="n">armoury</span> <span class="o">=</span> <span class="n">Room</span><span class="p">(</span><span class="s2">&quot;Armoury&quot;</span><span class="p">)</span>
<span class="linenos">10</span><span class="n">armoury</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;The walls are lined with racks that once held weapons and armour.&quot;</span><span class="p">)</span>
<span class="linenos">11</span>
<span class="linenos">12</span><span class="n">lab</span> <span class="o">=</span> <span class="n">Room</span><span class="p">(</span><span class="s2">&quot;Laboratory&quot;</span><span class="p">)</span>
<span class="linenos">13</span><span class="n">lab</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;A strange odour hangs in a room filled with unknownable contraptions.&quot;</span><span class="p">)</span>
<span class="linenos">14</span>
<span class="linenos">15</span><span class="c1"># link rooms</span>
<span class="linenos">16</span><span class="n">cavern</span><span class="o">.</span><span class="n">link_rooms</span><span class="p">(</span><span class="n">armoury</span><span class="p">,</span><span class="s2">&quot;south&quot;</span><span class="p">)</span>
<span class="linenos">17</span><span class="n">armoury</span><span class="o">.</span><span class="n">link_rooms</span><span class="p">(</span><span class="n">cavern</span><span class="p">,</span><span class="s2">&quot;north&quot;</span><span class="p">)</span>
<span class="linenos">18</span><span class="n">armoury</span><span class="o">.</span><span class="n">link_rooms</span><span class="p">(</span><span class="n">lab</span><span class="p">,</span><span class="s2">&quot;east&quot;</span><span class="p">)</span>
<span class="linenos">19</span><span class="n">lab</span><span class="o">.</span><span class="n">link_rooms</span><span class="p">(</span><span class="n">armoury</span><span class="p">,</span><span class="s2">&quot;west&quot;</span><span class="p">)</span>
<span class="linenos">20</span>
<span class="hll"><span class="linenos">21</span><span class="sd">&#39;&#39;&#39;</span>
</span><span class="hll"><span class="linenos">22</span><span class="sd"># describe the rooms</span>
</span><span class="hll"><span class="linenos">23</span><span class="sd">cavern.describe()</span>
</span><span class="hll"><span class="linenos">24</span><span class="sd">armoury.describe()</span>
</span><span class="hll"><span class="linenos">25</span><span class="sd">lab.describe()</span>
</span><span class="hll"><span class="linenos">26</span><span class="sd">&#39;&#39;&#39;</span>
</span><span class="linenos">27</span>
<span class="hll"><span class="linenos">28</span><span class="c1"># initialise variables</span>
</span><span class="hll"><span class="linenos">29</span><span class="n">current_room</span> <span class="o">=</span> <span class="n">cavern</span>
</span></pre></div>
</div>
<p>Let’s <strong>investigate</strong> the new code</p>
<div class="admonition-code-explaination admonition">
<p class="admonition-title">Code Explaination</p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">'''</span></code> on lines 21 and 26 → turns the room descriptions into a big comment, so Python ignores that code.</p>
<ul>
<li><p>You could delete it, but leaving it commented out means you can bring it back later if you need it for debugging.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">initialise</span> <span class="pre">variables</span></code> → a comment to explain what the next lines of code are doing.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">current_room</span> <span class="pre">=</span> <span class="pre">cavern</span></code></p>
<ul>
<li><p>makes a variable that tracks which room the player is currently in.</p></li>
<li><p>starts the player in the <code class="docutils literal notranslate"><span class="pre">cavern</span></code> room.</p></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="create-main-loop">
<h2>Create main loop<a class="headerlink" href="#create-main-loop" title="Link to this heading">¶</a></h2>
<p>Still working in the <em><strong>main.py</strong></em> file, we will now make the main loop.</p>
<p>Add the highlighted code below so you can see the main loop for the first time.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1"># main.py</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="kn">from</span><span class="w"> </span><span class="nn">room</span><span class="w"> </span><span class="kn">import</span> <span class="n">Room</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="c1"># create rooms</span>
<span class="linenos"> 6</span><span class="n">cavern</span> <span class="o">=</span> <span class="n">Room</span><span class="p">(</span><span class="s2">&quot;Cavern&quot;</span><span class="p">)</span>
<span class="linenos"> 7</span><span class="n">cavern</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;A room so big that the light of your torch doesn’t reach the walls.&quot;</span><span class="p">)</span>
<span class="linenos"> 8</span>
<span class="linenos"> 9</span><span class="n">armoury</span> <span class="o">=</span> <span class="n">Room</span><span class="p">(</span><span class="s2">&quot;Armoury&quot;</span><span class="p">)</span>
<span class="linenos">10</span><span class="n">armoury</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;The walls are lined with racks that once held weapons and armour.&quot;</span><span class="p">)</span>
<span class="linenos">11</span>
<span class="linenos">12</span><span class="n">lab</span> <span class="o">=</span> <span class="n">Room</span><span class="p">(</span><span class="s2">&quot;Laboratory&quot;</span><span class="p">)</span>
<span class="linenos">13</span><span class="n">lab</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;A strange odour hangs in a room filled with unknownable contraptions.&quot;</span><span class="p">)</span>
<span class="linenos">14</span>
<span class="linenos">15</span><span class="c1"># link rooms</span>
<span class="linenos">16</span><span class="n">cavern</span><span class="o">.</span><span class="n">link_rooms</span><span class="p">(</span><span class="n">armoury</span><span class="p">,</span><span class="s2">&quot;south&quot;</span><span class="p">)</span>
<span class="linenos">17</span><span class="n">armoury</span><span class="o">.</span><span class="n">link_rooms</span><span class="p">(</span><span class="n">cavern</span><span class="p">,</span><span class="s2">&quot;north&quot;</span><span class="p">)</span>
<span class="linenos">18</span><span class="n">armoury</span><span class="o">.</span><span class="n">link_rooms</span><span class="p">(</span><span class="n">lab</span><span class="p">,</span><span class="s2">&quot;east&quot;</span><span class="p">)</span>
<span class="linenos">19</span><span class="n">lab</span><span class="o">.</span><span class="n">link_rooms</span><span class="p">(</span><span class="n">armoury</span><span class="p">,</span><span class="s2">&quot;west&quot;</span><span class="p">)</span>
<span class="linenos">20</span>
<span class="linenos">21</span><span class="sd">&#39;&#39;&#39;</span>
<span class="linenos">22</span><span class="sd"># describe the rooms</span>
<span class="linenos">23</span><span class="sd">cavern.describe()</span>
<span class="linenos">24</span><span class="sd">armoury.describe()</span>
<span class="linenos">25</span><span class="sd">lab.describe()</span>
<span class="linenos">26</span><span class="sd">&#39;&#39;&#39;</span>
<span class="linenos">27</span>
<span class="linenos">28</span><span class="c1"># initialise variables</span>
<span class="linenos">29</span><span class="n">current_room</span> <span class="o">=</span> <span class="n">cavern</span>
<span class="hll"><span class="linenos">30</span><span class="n">running</span> <span class="o">=</span> <span class="kc">True</span>
</span><span class="linenos">31</span>
<span class="hll"><span class="linenos">32</span><span class="c1"># ----- MAIN LOOP -----</span>
</span><span class="hll"><span class="linenos">33</span><span class="k">while</span> <span class="n">running</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">34</span>    <span class="n">current_room</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</span><span class="hll"><span class="linenos">35</span>    
</span><span class="hll"><span class="linenos">36</span>    <span class="n">command</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;&gt; &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
</span></pre></div>
</div>
<p>Finally we can run our code, but don’t forget <strong>PRIMM</strong>. <strong>Predict</strong> you think the program will do, then <strong>run</strong> the program.</p>
<div class="info admonition">
<p class="admonition-title">Escaping an infinite loop</p>
<p>If your Python program gets stuck in an infinite loop, you can stop it by pressing <code class="docutils literal notranslate"><span class="pre">Ctrl</span> <span class="pre">+</span> <span class="pre">C</span></code> on Windows or <code class="docutils literal notranslate"><span class="pre">Control</span> <span class="pre">+</span> <span class="pre">C</span></code> on a Mac.</p>
<p>If you’re using Thonny, you can also click the <strong>stop</strong> button to end the program.</p>
</div>
<p>Let’s <strong>investigate</strong> the new code line-by-line.</p>
<div class="admonition-code-explaination admonition">
<p class="admonition-title">Code Explaination</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">running</span> <span class="pre">=</span> <span class="pre">True</span></code> → used to keep the <strong>main loop</strong> going until the player decides to quit.</p>
<ul>
<li><p>This is called a <strong>flag variable</strong>—it starts as <code class="docutils literal notranslate"><span class="pre">True</span></code>, and when the player wants to exit, it gets changed to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">-----</span> <span class="pre">MAIN</span> <span class="pre">LOOP</span> <span class="pre">-----</span></code> → a comment showing where the main loop begins.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">while</span> <span class="pre">running:</span></code> → starts the <strong>main loop</strong>.</p>
<ul>
<li><p>The loop keeps repeating as long as <code class="docutils literal notranslate"><span class="pre">running</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">current_room.describe()</span></code> → runs the <code class="docutils literal notranslate"><span class="pre">describe</span></code> function for whatever room is stored in the <code class="docutils literal notranslate"><span class="pre">current_room</span></code> variable.</p>
<ul>
<li><p>At the start, this is the <code class="docutils literal notranslate"><span class="pre">cavern</span></code>.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">command</span> <span class="pre">=</span> <span class="pre">input(&quot;&gt;</span> <span class="pre">&quot;).lower()</span></code> → reads what the player types.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">input(&quot;&gt;</span> <span class="pre">&quot;)</span></code> → shows <code class="docutils literal notranslate"><span class="pre">&quot;&gt;</span> <span class="pre">&quot;</span></code> on the screen and waits for the player to type something.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.lower()</span></code> → turns the input into lowercase so the program can read it more easily.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">command</span> <span class="pre">=</span></code> → stores the final text in the <code class="docutils literal notranslate"><span class="pre">command</span></code> variable.</p></li>
</ul>
</li>
</ul>
</div>
<p>Notice that no matter what the player types, the same thing keeps happening. That’s because we’ve built the <strong>main loop</strong>, which is waiting for events (the player’s input), but we haven’t written any code to react to those events yet.</p>
<p>In a <strong>state machine</strong>, the game should change state when something happens—like moving to a new room—but right now there are no rules telling the program how to change state when an event occurs. So the loop just repeats without doing anything new.</p>
</section>
<section id="responding-to-commands">
<h2>Responding to commands<a class="headerlink" href="#responding-to-commands" title="Link to this heading">¶</a></h2>
<p>In Event Driven Programming the entering of user’s commands is called an <strong>event</strong>. Now we have to create code that responds to those events. This kind of code is called an <strong>event handler</strong>.</p>
<p>Back in our <em><strong>main.py</strong></em> we’re going to create an <strong>event handler</strong> to deal with the entry of a direction (<code class="docutils literal notranslate"><span class="pre">&quot;north&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;south&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;east&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;west&quot;</span></code>). Add the highlighted code.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1"># main.py</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="kn">from</span><span class="w"> </span><span class="nn">room</span><span class="w"> </span><span class="kn">import</span> <span class="n">Room</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="c1"># create rooms</span>
<span class="linenos"> 6</span><span class="n">cavern</span> <span class="o">=</span> <span class="n">Room</span><span class="p">(</span><span class="s2">&quot;Cavern&quot;</span><span class="p">)</span>
<span class="linenos"> 7</span><span class="n">cavern</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;A room so big that the light of your torch doesn’t reach the walls.&quot;</span><span class="p">)</span>
<span class="linenos"> 8</span>
<span class="linenos"> 9</span><span class="n">armoury</span> <span class="o">=</span> <span class="n">Room</span><span class="p">(</span><span class="s2">&quot;Armoury&quot;</span><span class="p">)</span>
<span class="linenos">10</span><span class="n">armoury</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;The walls are lined with racks that once held weapons and armour.&quot;</span><span class="p">)</span>
<span class="linenos">11</span>
<span class="linenos">12</span><span class="n">lab</span> <span class="o">=</span> <span class="n">Room</span><span class="p">(</span><span class="s2">&quot;Laboratory&quot;</span><span class="p">)</span>
<span class="linenos">13</span><span class="n">lab</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;A strange odour hangs in a room filled with unknownable contraptions.&quot;</span><span class="p">)</span>
<span class="linenos">14</span>
<span class="linenos">15</span><span class="c1"># link rooms</span>
<span class="linenos">16</span><span class="n">cavern</span><span class="o">.</span><span class="n">link_rooms</span><span class="p">(</span><span class="n">armoury</span><span class="p">,</span><span class="s2">&quot;south&quot;</span><span class="p">)</span>
<span class="linenos">17</span><span class="n">armoury</span><span class="o">.</span><span class="n">link_rooms</span><span class="p">(</span><span class="n">cavern</span><span class="p">,</span><span class="s2">&quot;north&quot;</span><span class="p">)</span>
<span class="linenos">18</span><span class="n">armoury</span><span class="o">.</span><span class="n">link_rooms</span><span class="p">(</span><span class="n">lab</span><span class="p">,</span><span class="s2">&quot;east&quot;</span><span class="p">)</span>
<span class="linenos">19</span><span class="n">lab</span><span class="o">.</span><span class="n">link_rooms</span><span class="p">(</span><span class="n">armoury</span><span class="p">,</span><span class="s2">&quot;west&quot;</span><span class="p">)</span>
<span class="linenos">20</span>
<span class="linenos">21</span><span class="sd">&#39;&#39;&#39;</span>
<span class="linenos">22</span><span class="sd"># describe the rooms</span>
<span class="linenos">23</span><span class="sd">cavern.describe()</span>
<span class="linenos">24</span><span class="sd">armoury.describe()</span>
<span class="linenos">25</span><span class="sd">lab.describe()</span>
<span class="linenos">26</span><span class="sd">&#39;&#39;&#39;</span>
<span class="linenos">27</span>
<span class="linenos">28</span><span class="c1"># initialise variables</span>
<span class="linenos">29</span><span class="n">running</span> <span class="o">=</span> <span class="kc">True</span>
<span class="linenos">30</span><span class="n">current_room</span> <span class="o">=</span> <span class="n">cavern</span>
<span class="linenos">31</span>
<span class="linenos">32</span><span class="c1"># ----- MAIN LOOP -----</span>
<span class="linenos">33</span><span class="k">while</span> <span class="n">running</span><span class="p">:</span>
<span class="linenos">34</span>    <span class="n">current_room</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
<span class="linenos">35</span>    
<span class="linenos">36</span>    <span class="n">command</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;&gt; &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<span class="linenos">37</span>    
<span class="hll"><span class="linenos">38</span>    <span class="k">if</span> <span class="n">command</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;north&quot;</span><span class="p">,</span> <span class="s2">&quot;south&quot;</span><span class="p">,</span> <span class="s2">&quot;east&quot;</span><span class="p">,</span> <span class="s2">&quot;west&quot;</span><span class="p">]:</span>
</span><span class="hll"><span class="linenos">39</span>        <span class="n">current_room</span> <span class="o">=</span> <span class="n">current_room</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
</span></pre></div>
</div>
<p><strong>Predict</strong> you think the program will do, then <strong>run</strong> the program.</p>
<p>Let’s <strong>investigate</strong> that code.</p>
<div class="admonition-code-explaination admonition">
<p class="admonition-title">Code Explaination</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">command</span> <span class="pre">in</span> <span class="pre">[&quot;north&quot;,</span> <span class="pre">&quot;south&quot;,</span> <span class="pre">&quot;east&quot;,</span> <span class="pre">&quot;west&quot;]:</span></code> → runs this block only if the player typed a direction.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">[&quot;north&quot;,</span> <span class="pre">&quot;south&quot;,</span> <span class="pre">&quot;east&quot;,</span> <span class="pre">&quot;west&quot;]</span></code> → the list of directions the game will accept.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">command</span> <span class="pre">in</span></code> → checks whether what the player typed is in that list.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">current_room</span> <span class="pre">=</span> <span class="pre">current_room.move(command)</span></code> → works out which room to go to next.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">current_room.move(command)</span></code> → calls the <code class="docutils literal notranslate"><span class="pre">move</span></code> function, using the player’s direction to find the next room.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">current_room</span> <span class="pre">=</span></code> → updates <code class="docutils literal notranslate"><span class="pre">current_room</span></code> so the game’s state now matches the new room.</p></li>
</ul>
</li>
</ul>
</div>
<section id="testing">
<h3>Testing<a class="headerlink" href="#testing" title="Link to this heading">¶</a></h3>
<div class="note admonition">
<p class="admonition-title">Testing branching code</p>
<p>Whenever you test branching code, it is important to ensure you methodically test <strong>all</strong> possible branches.</p>
<p>To do this:</p>
<ul class="simple">
<li><p>create a table which lists every possible branch</p></li>
<li><p>for each branch, list the expected results</p></li>
<li><p>record the actual results</p></li>
<li><p>idenfiy any discrepancies</p></li>
</ul>
</div>
<p>Now that we can move between all our rooms, we can test that our code is working correctly. Draw up a  table to test each option. Below is an example of my table.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Current Room</p></th>
<th class="head text-left"><p>Command</p></th>
<th class="head text-left"><p>Expected Result</p></th>
<th class="head text-left"><p>Actual Result</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p>cavern</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">north</span></code></p></td>
<td class="text-left"><p>“You can’t go that way”</p></td>
<td class="text-left"><p>“You can’t go that way”</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>cavern</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">south</span></code></p></td>
<td class="text-left"><p>moved to armoury</p></td>
<td class="text-left"><p>moved to armoury</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>cavern</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">east</span></code></p></td>
<td class="text-left"><p>“You can’t go that way”</p></td>
<td class="text-left"><p>“You can’t go that way”</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>cavern</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">west</span></code></p></td>
<td class="text-left"><p>“You can’t go that way”</p></td>
<td class="text-left"><p>“You can’t go that way”</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>armoury</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">north</span></code></p></td>
<td class="text-left"><p>moved to cavern</p></td>
<td class="text-left"><p>moved to cavern</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>armoury</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">south</span></code></p></td>
<td class="text-left"><p>“You can’t go that way”</p></td>
<td class="text-left"><p>“You can’t go that way”</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>armoury</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">east</span></code></p></td>
<td class="text-left"><p>moved to lab</p></td>
<td class="text-left"><p>moved to lab</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>armoury</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">west</span></code></p></td>
<td class="text-left"><p>“You can’t go that way”</p></td>
<td class="text-left"><p>“You can’t go that way”</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>lab</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">north</span></code></p></td>
<td class="text-left"><p>“You can’t go that way”</p></td>
<td class="text-left"><p>“You can’t go that way”</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>lab</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">south</span></code></p></td>
<td class="text-left"><p>“You can’t go that way”</p></td>
<td class="text-left"><p>“You can’t go that way”</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>lab</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">east</span></code></p></td>
<td class="text-left"><p>“You can’t go that way”</p></td>
<td class="text-left"><p>“You can’t go that way”</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>lab</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">west</span></code></p></td>
<td class="text-left"><p>moved to armoury</p></td>
<td class="text-left"><p>moved to armoury</p></td>
</tr>
</tbody>
</table>
</div>
<p>Notice that I tested each of the four directions in each of the three rooms in my dungeon.</p>
</section>
<section id="exiting">
<h3>Exiting<a class="headerlink" href="#exiting" title="Link to this heading">¶</a></h3>
<p>Although the user can now move around our dungeon, they cannot exit the game. Now we need to make an <strong>event handler</strong> to deal with the user wanting to quit the game.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1"># main.py</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="kn">from</span><span class="w"> </span><span class="nn">room</span><span class="w"> </span><span class="kn">import</span> <span class="n">Room</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="c1"># create rooms</span>
<span class="linenos"> 6</span><span class="n">cavern</span> <span class="o">=</span> <span class="n">Room</span><span class="p">(</span><span class="s2">&quot;Cavern&quot;</span><span class="p">)</span>
<span class="linenos"> 7</span><span class="n">cavern</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;A room so big that the light of your torch doesn’t reach the walls.&quot;</span><span class="p">)</span>
<span class="linenos"> 8</span>
<span class="linenos"> 9</span><span class="n">armoury</span> <span class="o">=</span> <span class="n">Room</span><span class="p">(</span><span class="s2">&quot;Armoury&quot;</span><span class="p">)</span>
<span class="linenos">10</span><span class="n">armoury</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;The walls are lined with racks that once held weapons and armour.&quot;</span><span class="p">)</span>
<span class="linenos">11</span>
<span class="linenos">12</span><span class="n">lab</span> <span class="o">=</span> <span class="n">Room</span><span class="p">(</span><span class="s2">&quot;Laboratory&quot;</span><span class="p">)</span>
<span class="linenos">13</span><span class="n">lab</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;A strange odour hangs in a room filled with unknownable contraptions.&quot;</span><span class="p">)</span>
<span class="linenos">14</span>
<span class="linenos">15</span><span class="c1"># link rooms</span>
<span class="linenos">16</span><span class="n">cavern</span><span class="o">.</span><span class="n">link_rooms</span><span class="p">(</span><span class="n">armoury</span><span class="p">,</span><span class="s2">&quot;south&quot;</span><span class="p">)</span>
<span class="linenos">17</span><span class="n">armoury</span><span class="o">.</span><span class="n">link_rooms</span><span class="p">(</span><span class="n">cavern</span><span class="p">,</span><span class="s2">&quot;north&quot;</span><span class="p">)</span>
<span class="linenos">18</span><span class="n">armoury</span><span class="o">.</span><span class="n">link_rooms</span><span class="p">(</span><span class="n">lab</span><span class="p">,</span><span class="s2">&quot;east&quot;</span><span class="p">)</span>
<span class="linenos">19</span><span class="n">lab</span><span class="o">.</span><span class="n">link_rooms</span><span class="p">(</span><span class="n">armoury</span><span class="p">,</span><span class="s2">&quot;west&quot;</span><span class="p">)</span>
<span class="linenos">20</span>
<span class="linenos">21</span><span class="sd">&#39;&#39;&#39;</span>
<span class="linenos">22</span><span class="sd"># describe the rooms</span>
<span class="linenos">23</span><span class="sd">cavern.describe()</span>
<span class="linenos">24</span><span class="sd">armoury.describe()</span>
<span class="linenos">25</span><span class="sd">lab.describe()</span>
<span class="linenos">26</span><span class="sd">&#39;&#39;&#39;</span>
<span class="linenos">27</span>
<span class="linenos">28</span><span class="c1"># initialise variables</span>
<span class="linenos">29</span><span class="n">running</span> <span class="o">=</span> <span class="kc">True</span>
<span class="linenos">30</span><span class="n">current_room</span> <span class="o">=</span> <span class="n">cavern</span>
<span class="linenos">31</span>
<span class="linenos">32</span><span class="c1"># ----- MAIN LOOP -----</span>
<span class="linenos">33</span><span class="k">while</span> <span class="n">running</span><span class="p">:</span>
<span class="linenos">34</span>    <span class="n">current_room</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
<span class="linenos">35</span>    
<span class="linenos">36</span>    <span class="n">command</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;&gt; &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<span class="linenos">37</span>    
<span class="linenos">38</span>    <span class="k">if</span> <span class="n">command</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;north&quot;</span><span class="p">,</span> <span class="s2">&quot;south&quot;</span><span class="p">,</span> <span class="s2">&quot;east&quot;</span><span class="p">,</span> <span class="s2">&quot;west&quot;</span><span class="p">]:</span>
<span class="linenos">39</span>        <span class="n">current_room</span> <span class="o">=</span> <span class="n">current_room</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
<span class="hll"><span class="linenos">40</span>    <span class="k">elif</span> <span class="n">command</span> <span class="o">==</span> <span class="s2">&quot;quit&quot;</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">41</span>        <span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>
</span></pre></div>
</div>
<p><strong>Predict</strong> you think the program will do, then <strong>run</strong> the program.</p>
<p>Make sure you test the <strong>quit</strong> option</p>
<p>Let’s <strong>investigate</strong> that code</p>
<div class="admonition-code-explaination admonition">
<p class="admonition-title">Code Explaination</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">elif</span> <span class="pre">command</span> <span class="pre">==</span> <span class="pre">&quot;quit&quot;:</span></code> → if the command is not an acceptable direction, then check if it is <code class="docutils literal notranslate"><span class="pre">quit</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">running</span> <span class="pre">=</span> <span class="pre">False</span></code> change our <strong>flag variable</strong> to <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
<ul>
<li><p>this means that when the loops returns to the top, <code class="docutils literal notranslate"><span class="pre">where</span> <span class="pre">running</span></code> will be <code class="docutils literal notranslate"><span class="pre">False</span></code> and the loop will exit.</p></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="capture-incorrect-commands">
<h3>Capture incorrect commands<a class="headerlink" href="#capture-incorrect-commands" title="Link to this heading">¶</a></h3>
<p>The code now understands the movement commands and the quit command, but what if the player types something completely different? The loop just keeps going and shows the same room again. That’s not very helpful.</p>
<p>We should tell the player when their command doesn’t make sense, so they know they need to try something else. Let’s fix that.</p>
<p>Change <em><strong>main.py</strong></em> to include the highlighted code below.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1"># main.py</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="kn">from</span><span class="w"> </span><span class="nn">room</span><span class="w"> </span><span class="kn">import</span> <span class="n">Room</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="c1"># create rooms</span>
<span class="linenos"> 6</span><span class="n">cavern</span> <span class="o">=</span> <span class="n">Room</span><span class="p">(</span><span class="s2">&quot;Cavern&quot;</span><span class="p">)</span>
<span class="linenos"> 7</span><span class="n">cavern</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;A room so big that the light of your torch doesn’t reach the walls.&quot;</span><span class="p">)</span>
<span class="linenos"> 8</span>
<span class="linenos"> 9</span><span class="n">armoury</span> <span class="o">=</span> <span class="n">Room</span><span class="p">(</span><span class="s2">&quot;Armoury&quot;</span><span class="p">)</span>
<span class="linenos">10</span><span class="n">armoury</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;The walls are lined with racks that once held weapons and armour.&quot;</span><span class="p">)</span>
<span class="linenos">11</span>
<span class="linenos">12</span><span class="n">lab</span> <span class="o">=</span> <span class="n">Room</span><span class="p">(</span><span class="s2">&quot;Laboratory&quot;</span><span class="p">)</span>
<span class="linenos">13</span><span class="n">lab</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;A strange odour hangs in a room filled with unknownable contraptions.&quot;</span><span class="p">)</span>
<span class="linenos">14</span>
<span class="linenos">15</span><span class="c1"># link rooms</span>
<span class="linenos">16</span><span class="n">cavern</span><span class="o">.</span><span class="n">link_rooms</span><span class="p">(</span><span class="n">armoury</span><span class="p">,</span><span class="s2">&quot;south&quot;</span><span class="p">)</span>
<span class="linenos">17</span><span class="n">armoury</span><span class="o">.</span><span class="n">link_rooms</span><span class="p">(</span><span class="n">cavern</span><span class="p">,</span><span class="s2">&quot;north&quot;</span><span class="p">)</span>
<span class="linenos">18</span><span class="n">armoury</span><span class="o">.</span><span class="n">link_rooms</span><span class="p">(</span><span class="n">lab</span><span class="p">,</span><span class="s2">&quot;east&quot;</span><span class="p">)</span>
<span class="linenos">19</span><span class="n">lab</span><span class="o">.</span><span class="n">link_rooms</span><span class="p">(</span><span class="n">armoury</span><span class="p">,</span><span class="s2">&quot;west&quot;</span><span class="p">)</span>
<span class="linenos">20</span>
<span class="linenos">21</span><span class="sd">&#39;&#39;&#39;</span>
<span class="linenos">22</span><span class="sd"># describe the rooms</span>
<span class="linenos">23</span><span class="sd">cavern.describe()</span>
<span class="linenos">24</span><span class="sd">armoury.describe()</span>
<span class="linenos">25</span><span class="sd">lab.describe()</span>
<span class="linenos">26</span><span class="sd">&#39;&#39;&#39;</span>
<span class="linenos">27</span>
<span class="linenos">28</span><span class="c1"># initialise variables</span>
<span class="linenos">29</span><span class="n">running</span> <span class="o">=</span> <span class="kc">True</span>
<span class="linenos">30</span><span class="n">current_room</span> <span class="o">=</span> <span class="n">cavern</span>
<span class="linenos">31</span>
<span class="linenos">32</span><span class="c1"># ----- MAIN LOOP -----</span>
<span class="linenos">33</span><span class="k">while</span> <span class="n">running</span><span class="p">:</span>
<span class="linenos">34</span>    <span class="n">current_room</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
<span class="linenos">35</span>    
<span class="linenos">36</span>    <span class="n">command</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;&gt; &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<span class="linenos">37</span>    
<span class="linenos">38</span>    <span class="k">if</span> <span class="n">command</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;north&quot;</span><span class="p">,</span> <span class="s2">&quot;south&quot;</span><span class="p">,</span> <span class="s2">&quot;east&quot;</span><span class="p">,</span> <span class="s2">&quot;west&quot;</span><span class="p">]:</span>
<span class="linenos">39</span>        <span class="n">current_room</span> <span class="o">=</span> <span class="n">current_room</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
<span class="linenos">40</span>    <span class="k">elif</span> <span class="n">command</span> <span class="o">==</span> <span class="s2">&quot;quit&quot;</span><span class="p">:</span>
<span class="linenos">41</span>        <span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>
<span class="hll"><span class="linenos">42</span>    <span class="k">else</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">43</span>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;I don&#39;t understand.&quot;</span><span class="p">)</span>
</span></pre></div>
</div>
<p><strong>Predict</strong> you think the program will do, then <strong>run</strong> the program.</p>
<p>Make sure you test our error capturing by entering some incorrect commands.</p>
<p>Let’s <strong>investigate</strong> the new code:</p>
<div class="info admonition">
<p class="admonition-title">Information</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">else:</span></code> → a catch-all option for any input which is not a recognised command.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">print(&quot;I</span> <span class="pre">don't</span> <span class="pre">understand.&quot;)</span></code> → lets the user know their command doesn’t make sense.</p></li>
</ul>
</div>
</section>
<section id="id1">
<h3>Testing<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h3>
<p>Now we need to test those two additional features. Draw up a table to test each option. Below is an example of my table.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Command</p></th>
<th class="head text-left"><p>Expected Result</p></th>
<th class="head text-left"><p>Actual Result</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">south</span></code></p></td>
<td class="text-left"><p>moved to armoury</p></td>
<td class="text-left"><p>moved to armoury</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">dog</span></code></p></td>
<td class="text-left"><p>“I don’t understand.”</p></td>
<td class="text-left"><p>“I don’t understand.”</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">quit</span></code></p></td>
<td class="text-left"><p>program exits</p></td>
<td class="text-left"><p>program exits</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<hr class="docutils" />
<section id="stage-2-task">
<h2>Stage 2 task<a class="headerlink" href="#stage-2-task" title="Link to this heading">¶</a></h2>
<p>There is not much to do for our <strong>Make</strong> phase of this stage, but you do need to test that you can navigate to and from your stage 1 task additional room.</p>
<p>Take the table you used to test navigating the rooms and expand it to also test navigating to your stage 1 task room.</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="stage_3.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Stage 3 - Character Creation</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="stage_1.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Stage 1 - Create Rooms</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/DamoM73/python-oop-with-deepest-dungeon" aria-label="GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Stage 2 - Movement</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a><ul>
<li><a class="reference internal" href="#class-diagram">Class Diagram</a></li>
</ul>
</li>
<li><a class="reference internal" href="#create-the-move-method">Create the move method</a></li>
<li><a class="reference internal" href="#initialize-starting-room">Initialize starting room</a></li>
<li><a class="reference internal" href="#create-main-loop">Create main loop</a></li>
<li><a class="reference internal" href="#responding-to-commands">Responding to commands</a><ul>
<li><a class="reference internal" href="#testing">Testing</a></li>
<li><a class="reference internal" href="#exiting">Exiting</a></li>
<li><a class="reference internal" href="#capture-incorrect-commands">Capture incorrect commands</a></li>
<li><a class="reference internal" href="#id1">Testing</a></li>
</ul>
</li>
<li><a class="reference internal" href="#stage-2-task">Stage 2 task</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=46bd48cc"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    </body>
</html>